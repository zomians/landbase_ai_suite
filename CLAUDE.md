# CLAUDE.md - Claude å‘ã‘ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

**LandBase AI Suite ã‚’ 5 åˆ†ã§ç†è§£ã™ã‚‹ã‚¬ã‚¤ãƒ‰**

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Claudeï¼ˆAI é–‹ç™ºã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆï¼‰ãŒã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç´ æ—©ãç†è§£ã—ã€é©åˆ‡ãªã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ»å•é¡Œè§£æ±ºã‚’è¡Œã†ãŸã‚ã®**ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹**ã§ã™ã€‚

---

## ğŸ“Œ 5 åˆ†ã§ç†è§£ã™ã‚‹ LandBase AI Suite

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**ä½•ã‚’ä½œã£ã¦ã„ã‚‹ã‹ï¼Ÿ**

- æ²–ç¸„çœŒåŒ—éƒ¨ã®å°è¦æ¨¡è¦³å…‰æ¥­ï¼ˆãƒ›ãƒ†ãƒ«ã€é£²é£Ÿåº—ã€ãƒ„ã‚¢ãƒ¼ä¼šç¤¾ï¼‰å‘ã‘ **SaaS å‹ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **
- AI ã¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è‡ªå‹•åŒ–ã§ã€äººæ‰‹ä¸è¶³ãƒ»ãƒ‡ãƒ¼ã‚¿æ´»ç”¨ã®é…ã‚Œãƒ»OTA ä¾å­˜ã‚’è§£æ±º

**ã‚³ã‚¢ã‚³ãƒ³ã‚»ãƒ—ãƒˆ**:

```
ãƒ‡ãƒ¼ã‚¿ãƒ‰ãƒªãƒ–ãƒ³çµŒå–¶ â† AIã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆOperationAI + MarketingAIï¼‰
```

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆ1 åˆ†ã§ç†è§£ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LandBase AI Suite Platform (ãƒãƒƒã‚¯ã‚ªãƒ•ã‚£ã‚¹)      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Platform â”‚ â”‚    n8n     â”‚ â”‚  Mattermost  â”‚   â”‚
â”‚  â”‚ (Rails)  â”‚ â”‚ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼â”‚ â”‚ ãƒãƒ¼ãƒ é€šä¿¡   â”‚   â”‚
â”‚  â”‚ãƒãƒ¼ãƒˆ:3001â”‚ â”‚è‡ªå‹•åŒ–      â”‚ â”‚              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚ APIé€£æº
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ãƒ•ãƒ­ãƒ³ãƒˆã‚µãƒ¼ãƒ“ã‚¹ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå›ºæœ‰ï¼‰       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ Shrimp Shells EC â”‚  â”‚   Hotel App      â”‚      â”‚
â”‚  â”‚ (Rails + Solidus)â”‚  â”‚   (å°†æ¥)         â”‚      â”‚
â”‚  â”‚ ãƒãƒ¼ãƒˆ: 3002     â”‚  â”‚   ãƒãƒ¼ãƒˆ: 3004   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ**:

- **ãƒãƒƒã‚¯ã‚ªãƒ•ã‚£ã‚¹ï¼ˆPlatformï¼‰**: å…¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå…±é€šæ©Ÿèƒ½ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç®¡ç†ã€æ¸…æƒç®¡ç†ã€AI åˆ¤å®šç­‰ï¼‰
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚µãƒ¼ãƒ“ã‚¹**: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå›ºæœ‰æ©Ÿèƒ½ï¼ˆECã€äºˆç´„ã‚µã‚¤ãƒˆç­‰ï¼‰
- **n8n**: Projects æ©Ÿèƒ½ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ¯ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ç®¡ç†
- **Mattermost**: Teams æ©Ÿèƒ½ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ¯ã®ãƒãƒ£ãƒƒãƒˆç’°å¢ƒ
- **PostgreSQL**: client_code è«–ç†åˆ†é›¢ï¼ˆç‰©ç†åˆ†é›¢ã§ã¯ãªã„ï¼‰

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆ30 ç§’ã§ç†è§£ï¼‰

| ãƒ¬ã‚¤ãƒ¤ãƒ¼             | æŠ€è¡“                                  |
| -------------------- | ------------------------------------- |
| **åŸºç›¤**             | Docker Compose, PostgreSQL 16         |
| **è‡ªå‹•åŒ–**           | n8n 2.1.1, Mattermost 9.11          |
| **ã‚¢ãƒ—ãƒª**           | Rails 8.0.2.1, Solidus 4.5, Devise    |
| **ãƒ•ãƒ­ãƒ³ãƒˆ**         | ViewComponent, Tailwind CSS, Stimulus |
| **ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰** | Solid Queue, Solid Cache, Solid Cable |

**ãªãœ Railsï¼Ÿ**: OSSã€MVC/CRUD/REST åŸå‰‡ã«å¿ å®Ÿã€scaffold æ©Ÿèƒ½ã§ 80%è‡ªå‹•ç”Ÿæˆ

### ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆåˆ†é›¢æˆ¦ç•¥ï¼ˆ30 ç§’ã§ç†è§£ï¼‰

| ã‚µãƒ¼ãƒ“ã‚¹   | åˆ†é›¢æ–¹æ³•      | å®Ÿè£…                                 |
| ---------- | ------------- | ------------------------------------ |
| n8n        | Projects æ©Ÿèƒ½ | å˜ä¸€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã€Project å˜ä½ã§åˆ†é›¢ |
| Mattermost | Teams æ©Ÿèƒ½    | å˜ä¸€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã€Team å˜ä½ã§åˆ†é›¢    |
| PostgreSQL | client_code   | å˜ä¸€ DBã€WHERE å¥ã§è«–ç†åˆ†é›¢          |
| Rails      | ã‚¹ã‚³ãƒ¼ãƒ—      | `for_client(code)`                   |

**é‡è¦**: ç‰©ç†åˆ†é›¢ã§ã¯ãªã**è«–ç†åˆ†é›¢**ï¼ˆç®¡ç†ã‚’è¤‡é›‘ã«ã—ãªã„ãŸã‚ï¼‰

---

## ğŸ¯ é‡è¦ãªè¨­è¨ˆåŸå‰‡ï¼ˆDO / DON'Tï¼‰

### 1. Solidus æ‹¡å¼µã¯**å¿…ãš**Decorator ãƒ‘ã‚¿ãƒ¼ãƒ³

#### âœ… DO: Decorator ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆprependï¼‰

```ruby
# app/models/spree/product_decorator.rb
module Spree
  module ProductDecorator
    def self.prepended(base)
      # ã‚¯ãƒ©ã‚¹ãƒ¬ãƒ™ãƒ«ã®å®šç¾©
      base.validates :shrimp_size,
        inclusion: { in: %w[xl l m s], allow_blank: true }

      base.scope :frozen_products, -> { where('storage_temperature < ?', 0) }
    end

    # ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ 
    def frozen_product?
      storage_temperature.present? && storage_temperature < 0
    end

    # æ—¢å­˜ãƒ¡ã‚½ãƒƒãƒ‰ä¸Šæ›¸ãï¼ˆsuperã§å…ƒã®ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—ï¼‰
    def requires_special_shipping?
      super || frozen_product?
    end
  end
end

# prepend ã§é©ç”¨
Spree::Product.prepend(Spree::ProductDecorator)
```

**ç†ç”±**:

- Solidus gem ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ãªã„ï¼ˆéä¾µè¥²çš„ï¼‰
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—æ™‚ã‚‚å¤‰æ›´ãŒç¶­æŒã•ã‚Œã‚‹
- ãƒ¡ã‚½ãƒƒãƒ‰ä¸Šæ›¸ãå¯èƒ½ï¼ˆ`prepend`ã§ãƒ¡ã‚½ãƒƒãƒ‰ãƒã‚§ãƒ¼ãƒ³å…ˆé ­ã«è¿½åŠ ï¼‰

#### âŒ DON'T: ç›´æ¥ç·¨é›†ã€Fork

```ruby
# âŒ NG: Solidus gemã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç›´æ¥ç·¨é›†
# vendor/bundle/gems/solidus_core-X.X.X/app/models/spree/product.rb
class Spree::Product < Spree::Base
  validates :shrimp_size, ...  # bundle update ã§æ¶ˆãˆã‚‹ï¼
end

# âŒ NG: Fork
# Gemfile
gem 'solidus', github: 'your-org/solidus', branch: 'custom'
# â†’ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚³ã‚¹ãƒˆè†¨å¤§ã€é¢å€’
```

### 2. ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆåˆ†é›¢ã¯**å¿…ãš**client_code ã‚¹ã‚³ãƒ¼ãƒ—

#### âœ… DO: client_code ã‚¹ã‚³ãƒ¼ãƒ—ã‚’å¿…ãšä½¿ç”¨

```ruby
# ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼
class Api::V1::ProductsController < Api::V1::BaseController
  before_action :set_current_client

  def index
    # âœ… GOOD: client_code ã‚¹ã‚³ãƒ¼ãƒ—ã§åˆ†é›¢
    @products = Spree::Product.for_client(@current_client.code)
    render json: @products
  end

  private

  def set_current_client
    @current_client = Client.find_by!(code: request.headers['X-Client-Code'])
  end
end

# ãƒ¢ãƒ‡ãƒ«
class ApplicationRecord < ActiveRecord::Base
  scope :for_client, ->(code) { where(client_code: code) }
end
```

#### âŒ DON'T: ã‚¹ã‚³ãƒ¼ãƒ—ãªã—ã®ã‚¯ã‚¨ãƒª

```ruby
# âŒ NG: å…¨ãƒ†ãƒŠãƒ³ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ï¼ˆãƒ‡ãƒ¼ã‚¿æ¼æ´©ãƒªã‚¹ã‚¯ï¼‰
@products = Spree::Product.all

# âŒ NG: æ‰‹å‹•ã§WHEREå¥ï¼ˆã‚¹ã‚³ãƒ¼ãƒ—å¿˜ã‚Œã®ãƒªã‚¹ã‚¯ï¼‰
@products = Spree::Product.where(client_code: 'shrimp_shells')
```

### 3. è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³

#### âœ… DO: Service Objectï¼ˆè¤‡é›‘ãªãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼‰

```ruby
# app/services/cleaning_judge_service.rb
class CleaningJudgeService
  def initialize(session)
    @session = session
  end

  def call
    analyze_images
    judge_quality
    notify_result
  end

  private

  def analyze_images
    # AIåˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯
  end

  def judge_quality
    # åŸºæº–ã¨æ¯”è¼ƒ
  end

  def notify_result
    # Mattermosté€šçŸ¥
  end
end

# ä½¿ç”¨ä¾‹
CleaningJudgeService.new(session).call
```

#### âœ… DO: ViewComponentï¼ˆå†åˆ©ç”¨å¯èƒ½ãª UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰

```ruby
# app/components/product_card_component.rb
class ProductCardComponent < ViewComponent::Base
  def initialize(product:)
    @product = product
  end
end

# app/components/product_card_component.html.erb
<div class="border rounded-lg p-4">
  <h3 class="font-bold"><%= @product.name %></h3>
  <p class="text-gray-600"><%= number_to_currency(@product.price) %></p>
</div>

# ä½¿ç”¨ä¾‹ï¼ˆãƒ“ãƒ¥ãƒ¼ï¼‰
<%= render(ProductCardComponent.new(product: @product)) %>
```

### 4. ã‚³ãƒŸãƒƒãƒˆè¦ç´„ï¼ˆConventional Commitsï¼‰

**ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**:

```
<type>(<scope>): <subject> (issue#<ç•ªå·>)

<body>ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

<footer>ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
```

#### Type ä¸€è¦§

| Type       | èª¬æ˜               | ä¾‹                                        |
| ---------- | ------------------ | ----------------------------------------- |
| `feat`     | æ–°æ©Ÿèƒ½             | `feat(platform): æ¸…æƒåŸºæº–ç®¡ç†APIã‚’å®Ÿè£…`   |
| `fix`      | ãƒã‚°ä¿®æ­£           | `fix(rails): åœ¨åº«è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã‚’ä¿®æ­£`      |
| `docs`     | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ       | `docs: CONTRIBUTING.mdã‚’è¿½åŠ `             |
| `refactor` | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°   | `refactor(platform): Decoratoræ§‹é€ ã‚’æ•´ç†` |
| `test`     | ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£   | `test(rails): å•†å“ãƒ¢ãƒ‡ãƒ«ã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ `   |
| `chore`    | ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ„ãƒ¼ãƒ«è¨­å®š | `chore: Dockerfileã‚’æ›´æ–°`                 |
| `perf`     | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ | `perf(rails): N+1ã‚¯ã‚¨ãƒªã‚’è§£æ¶ˆ`            |
| `style`    | ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«     | `style: RuboCopé•åã‚’ä¿®æ­£`                |

#### Scope ä¸€è¦§ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

- `platform` - Platform åŸºå¹¹ã‚¢ãƒ—ãƒª
- `rails` - Shrimp Shells EC
- `n8n` - n8n ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- `docker` - Docker è¨­å®š
- `db` - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- `docs` - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- `infra` - ã‚¤ãƒ³ãƒ•ãƒ©è¨­å®š

#### è‰¯ã„ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ä¾‹

```bash
# âœ… GOOD
feat(platform): æ¸…æƒåŸºæº–ç®¡ç†APIã‚’å®Ÿè£… (issue#54)
fix(rails): ã‚«ãƒ¼ãƒˆåˆè¨ˆé‡‘é¡ã®è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã‚’ä¿®æ­£ (issue#58)
docs: ARCHITECTURE.mdã‚’è¿½åŠ  (issue#57)
refactor(rails): Product Decoratorã‚’æ•´ç† (issue#60)
test(platform): CleaningStandardãƒ¢ãƒ‡ãƒ«ã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ  (issue#54)
chore(docker): PostgreSQL 16ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ (issue#62)
```

#### æ‚ªã„ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ä¾‹

```bash
# âŒ BAD
update
fix bug
WIP
å•†å“è¿½åŠ 
ğŸ¤– Generated with Claude Code  # ãƒ„ãƒ¼ãƒ«ç½²åã¯ä¸è¦
```

#### ã‚³ãƒŸãƒƒãƒˆæ™‚ã®æ³¨æ„äº‹é …

1. **1 ã‚³ãƒŸãƒƒãƒˆ 1 æ©Ÿèƒ½**: é–¢é€£ã™ã‚‹å¤‰æ›´ã®ã¿ã‚’å«ã‚ã‚‹
2. **æ„å‘³ã®ã‚ã‚‹å˜ä½**: ã€ŒWIPã€ã‚³ãƒŸãƒƒãƒˆã¯é¿ã‘ã‚‹
3. **æ—¥æœ¬èª OK**: subject ã¯æ—¥æœ¬èªã§æ˜ç¢ºã«
4. **Issue ç•ªå·å¿…é ˆ**: `(issue#XX)` ã‚’å¿…ãšå«ã‚ã‚‹
5. **ãƒ„ãƒ¼ãƒ«ç½²åå‰Šé™¤**: Claude Code ã®ç½²åã¯å‰Šé™¤ã—ã¦ã‹ã‚‰ã‚³ãƒŸãƒƒãƒˆ

---

## ğŸ“‚ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã‚¯ã‚¤ãƒƒã‚¯ãƒãƒƒãƒ—

```
landbase_ai_suite/
â”œâ”€â”€ .claude/                       # Claude Codeè¨­å®šï¼ˆå°†æ¥ï¼‰
â”œâ”€â”€ config/
â”‚   â””â”€â”€ client_list.yaml           # ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒª
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ company-overview.md        # ä¼šç¤¾ãƒ»ãƒ“ã‚¸ãƒã‚¹æ¦‚è¦
â”‚   â””â”€â”€ adr/                       # Architecture Decision Records
â”‚       â”œâ”€â”€ 0001-n8n-mattermost-rails-integration.md
â”‚       â”œâ”€â”€ 0002-frontend-backend-separation.md
â”‚       â”œâ”€â”€ 0003-solidus-for-restaurant-ec.md
â”‚       â”œâ”€â”€ 0004-decorator-pattern-for-solidus-extension.md
â”‚       â”œâ”€â”€ 0005-multitenancy-strategy.md
â”‚       â””â”€â”€ 0006-platform-app-separation.md
â”œâ”€â”€ n8n/
â”‚   â””â”€â”€ workflows/                 # n8nãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ rails/
â”‚   â”œâ”€â”€ platform/                  # â˜…ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åŸºå¹¹ã‚¢ãƒ—ãƒªï¼ˆissue#55ã§å®Ÿè£…äºˆå®šï¼‰
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ client.rb
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ cleaning_standard.rb
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ cleaning_session.rb
â”‚   â”‚   â”‚   â”œâ”€â”€ controllers/api/v1/
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ jobs/
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ db/migrate/
â”‚   â”‚   â””â”€â”€ spec/
â”‚   â”‚
â”‚   â””â”€â”€ shrimp_shells_ec/          # â˜…Shrimp Shells å†·å‡é£Ÿå“EC
â”‚       â”œâ”€â”€ app/
â”‚       â”‚   â”œâ”€â”€ models/spree/
â”‚       â”‚   â”‚   â”œâ”€â”€ product_decorator.rb         # Decoratorãƒ‘ã‚¿ãƒ¼ãƒ³
â”‚       â”‚   â”‚   â”œâ”€â”€ order_decorator.rb
â”‚       â”‚   â”‚   â””â”€â”€ user_decorator.rb
â”‚       â”‚   â”œâ”€â”€ components/                      # ViewComponent
â”‚       â”‚   â”œâ”€â”€ services/                        # Service Object
â”‚       â”‚   â””â”€â”€ queries/                         # Query Object
â”‚       â”œâ”€â”€ spec/
â”‚       â””â”€â”€ Gemfile
â”‚
â”œâ”€â”€ nextjs/                        # ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã‚µã‚¤ãƒˆï¼ˆå°†æ¥ï¼‰
â”œâ”€â”€ .env                           # ç’°å¢ƒå¤‰æ•°è¨­å®š
â”œâ”€â”€ .env.local.example             # æ©Ÿå¯†æƒ…å ±ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ compose.yaml                   # Docker Composeå®šç¾©
â”œâ”€â”€ Makefile                       # é–‹ç™ºè‡ªå‹•åŒ–ã‚³ãƒãƒ³ãƒ‰
â”œâ”€â”€ README.md                      # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
â”œâ”€â”€ CLAUDE.md                      # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆClaudeå‘ã‘ã‚¬ã‚¤ãƒ‰ï¼‰
â”œâ”€â”€ CONTRIBUTING.md                # é–‹ç™ºè€…å‘ã‘å®Ÿè·µã‚¬ã‚¤ãƒ‰
â””â”€â”€ ARCHITECTURE.md                # æŠ€è¡“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è©³ç´°
```

---

## âš¡ ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰

### ã‚µãƒ¼ãƒ“ã‚¹ç®¡ç†

```bash
# å…¨ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•
make up

# å…¨ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢
make down

# å…¨ã‚µãƒ¼ãƒ“ã‚¹ãƒ­ã‚°è¡¨ç¤º
make logs

# å®Œå…¨ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼ˆæ³¨æ„ï¼šãƒ‡ãƒ¼ã‚¿å‰Šé™¤ï¼‰
make clean
```

### Platform åŸºå¹¹ã‚¢ãƒ—ãƒªï¼ˆãƒãƒ¼ãƒˆ: 3001ï¼‰

```bash
# Platformèµ·å‹•
make platform-up

# Railsã‚³ãƒ³ã‚½ãƒ¼ãƒ«
make platform-console

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
make platform-migrate

# ã‚³ãƒ³ãƒ†ãƒŠã‚·ã‚§ãƒ«æ¥ç¶š
make platform-shell
```

### Shrimp Shells ECï¼ˆãƒãƒ¼ãƒˆ: 3002ï¼‰

```bash
# ECèµ·å‹•
make shrimpshells-up

# Railsã‚³ãƒ³ã‚½ãƒ¼ãƒ«
make shrimpshells-console

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
make shrimpshells-migrate

# ãƒ‡ãƒ¼ã‚¿æŠ•å…¥
make shrimpshells-seed
```

### PostgreSQL

```bash
# PostgreSQLãƒ­ã‚°è¡¨ç¤º
make postgres-logs

# PostgreSQLã‚·ã‚§ãƒ«æ¥ç¶š
make postgres-shell
```

### n8nã€Mattermost

```bash
# n8nãƒ­ã‚°è¡¨ç¤º
make n8n-logs

# Mattermostãƒ­ã‚°è¡¨ç¤º
make mattermost-logs
```

---

## ğŸ” ã€Œâ—‹â—‹ ã—ãŸã„ã€ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

### Solidus ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ ã—ãŸã„

**æ‰‹é †**:

1. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ
2. Decorator ä½œæˆ
3. ãƒ“ãƒ¥ãƒ¼æ›´æ–°
4. ãƒ†ã‚¹ãƒˆè¿½åŠ 

**ä¾‹**:

```bash
# 1. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
cd rails/shrimp_shells_ec
bin/rails generate migration AddShrimpOriginToSpreeProducts shrimp_origin:string

# 2. Decoratorä½œæˆ
# app/models/spree/product_decorator.rb
module Spree
  module ProductDecorator
    def self.prepended(base)
      base.validates :shrimp_origin, length: { maximum: 100 }
    end
  end
end

Spree::Product.prepend(Spree::ProductDecorator)

# 3. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
make shrimpshells-migrate

# 4. ãƒ†ã‚¹ãƒˆ
# spec/models/spree/product_decorator_spec.rb
RSpec.describe Spree::Product, type: :model do
  describe '#shrimp_origin' do
    it 'accepts valid origin' do
      product = build(:product, shrimp_origin: 'æ²–ç¸„çœŒç”£')
      expect(product).to be_valid
    end
  end
end
```

### æ–°ã—ã„ API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’è¿½åŠ ã—ãŸã„ï¼ˆPlatformï¼‰

**æ‰‹é †**:

1. ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¿½åŠ 
2. ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ä½œæˆ
3. ã‚µãƒ¼ãƒ“ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä½œæˆï¼ˆè¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã®å ´åˆï¼‰
4. ãƒ†ã‚¹ãƒˆè¿½åŠ 

**ä¾‹**:

```ruby
# 1. config/routes.rb
namespace :api do
  namespace :v1 do
    resources :cleaning_standards, only: [:index, :show, :create, :update]
  end
end

# 2. app/controllers/api/v1/cleaning_standards_controller.rb
class Api::V1::CleaningStandardsController < Api::V1::BaseController
  before_action :set_current_client

  def index
    @standards = CleaningStandard.for_client(@current_client.code)
    render json: @standards
  end

  def create
    @standard = CleaningStandard.new(standard_params)
    @standard.client_code = @current_client.code

    if @standard.save
      render json: @standard, status: :created
    else
      render json: { errors: @standard.errors }, status: :unprocessable_entity
    end
  end

  private

  def standard_params
    params.require(:cleaning_standard).permit(:room_type, :check_items, :threshold)
  end
end

# 3. spec/requests/api/v1/cleaning_standards_spec.rb
RSpec.describe 'Api::V1::CleaningStandards', type: :request do
  describe 'POST /api/v1/cleaning_standards' do
    it 'creates a new cleaning standard' do
      post '/api/v1/cleaning_standards',
        params: { cleaning_standard: { room_type: 'deluxe', threshold: 0.8 } },
        headers: { 'X-Client-Code' => 'shrimp_shells' }

      expect(response).to have_http_status(:created)
    end
  end
end
```

### æ–°ã—ã„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆãƒ†ãƒŠãƒ³ãƒˆï¼‰ã‚’è¿½åŠ ã—ãŸã„

**æ‰‹é †**:

1. Client ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆ
2. n8n Projects ã§æ–°è¦ Project ä½œæˆ
3. Mattermost Teams ã§æ–°è¦ Team ä½œæˆ
4. ãƒ•ãƒ­ãƒ³ãƒˆã‚µãƒ¼ãƒ“ã‚¹ä½œæˆï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

**ä¾‹**:

```ruby
# 1. Platformã§æ–°è¦ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä½œæˆ
# rails/platform/db/seeds.rb ã¾ãŸã¯ Railsã‚³ãƒ³ã‚½ãƒ¼ãƒ«
Client.create!(
  code: 'hotel_example',
  name: 'ãƒ›ãƒ†ãƒ«ã‚¨ã‚°ã‚¶ãƒ³ãƒ—ãƒ«',
  industry: 'hotel',
  subscription_plan: 'standard',
  active: true
)

# 2. n8n (http://localhost:5678)
# - Projects â†’ Create New Project
# - Name: "Hotel Example"

# 3. Mattermost (http://localhost:8065)
# - Teams â†’ Create New Team
# - Name: "Hotel Example Team"

# 4. æ–°ã—ã„ãƒ•ãƒ­ãƒ³ãƒˆã‚µãƒ¼ãƒ“ã‚¹ï¼ˆhotel ECã‚µã‚¤ãƒˆç­‰ï¼‰ä½œæˆï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
# rails/hotel_ec/ ã‚’ä½œæˆ
```

### ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ãŸã„

**Platform**:

```bash
cd rails/platform
bin/rails generate migration CreateClients code:string name:string industry:string
make platform-migrate
```

**Shrimp Shells EC**:

```bash
cd rails/shrimp_shells_ec
bin/rails generate migration AddExpiryDateToSpreeStockItems expiry_date:date
make shrimpshells-migrate
```

### ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ãŸã„

**Platform**:

```bash
cd rails/platform
bundle exec rspec

# ç‰¹å®šã®ãƒ•ã‚¡ã‚¤ãƒ«
bundle exec rspec spec/models/client_spec.rb

# ç‰¹å®šã®è¡Œ
bundle exec rspec spec/models/client_spec.rb:10
```

**Shrimp Shells EC**:

```bash
cd rails/shrimp_shells_ec
bundle exec rspec spec/models/spree/product_decorator_spec.rb
```

---

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Solidus ã®æ‹¡å¼µãŒåæ˜ ã•ã‚Œãªã„

**ç—‡çŠ¶**: Decorator ã§è¿½åŠ ã—ãŸãƒ¡ã‚½ãƒƒãƒ‰ãŒå‘¼ã³å‡ºã›ãªã„

**åŸå› **: `prepend`ã®é©ç”¨æ¼ã‚Œ

**è§£æ±º**:

```ruby
# ãƒ•ã‚¡ã‚¤ãƒ«æœ«å°¾ã«å¿…ãšè¿½åŠ 
Spree::Product.prepend(Spree::ProductDecorator)

# Railsã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•
make shrimpshells-down
make shrimpshells-up
```

### client_code ã‚¹ã‚³ãƒ¼ãƒ—ãŒæ¼ã‚ŒãŸ

**ç—‡çŠ¶**: ä»–ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ãˆã‚‹

**åŸå› **: `for_client(code)`ã‚¹ã‚³ãƒ¼ãƒ—ã®ä½¿ç”¨æ¼ã‚Œ

**è§£æ±º**:

```ruby
# âŒ NG
@products = Spree::Product.all

# âœ… OK
@products = Spree::Product.for_client(@current_client.code)

# ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã§å¿…ãšset_current_clientã‚’å®Ÿè¡Œ
before_action :set_current_client
```

### ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¤±æ•—ã™ã‚‹

**ç—‡çŠ¶**: `ActiveRecord::PendingMigrationError`

**åŸå› **: ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æœªå®Ÿè¡Œ

**è§£æ±º**:

```bash
# Platform
make platform-migrate

# Shrimp Shells EC
make shrimpshells-migrate

# å¼·åˆ¶çš„ã«ãƒªã‚»ãƒƒãƒˆï¼ˆé–‹ç™ºç’°å¢ƒã®ã¿ï¼‰
cd rails/platform
bin/rails db:reset
```

### n8n ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’æ··åŒã—ã¦ã„ã‚‹

**ç—‡çŠ¶**: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒåˆ¥ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹

**åŸå› **: Project åˆ†é›¢ã•ã‚Œã¦ã„ãªã„

**è§£æ±º**:

1. n8n (http://localhost:5678) ã«ã‚¢ã‚¯ã‚»ã‚¹
2. Projects â†’ Create New Project
3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ¯ã« Project ã‚’ä½œæˆ
4. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ Project å†…ã§ä½œæˆ

### Docker ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã—ãªã„

**ç—‡çŠ¶**: `docker compose up` ãŒå¤±æ•—

**åŸå› **: ãƒãƒ¼ãƒˆç«¶åˆã€ãƒ‡ãƒ¼ã‚¿ç ´æ

**è§£æ±º**:

```bash
# ãƒãƒ¼ãƒˆç¢ºèª
lsof -i :3001  # Platform
lsof -i :3002  # Shrimp Shells EC
lsof -i :5678  # n8n
lsof -i :8065  # Mattermost

# å®Œå…¨ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼ˆæ³¨æ„ï¼šãƒ‡ãƒ¼ã‚¿å‰Šé™¤ï¼‰
make clean
make up
```

---

## ğŸ“š ã•ã‚‰ã«è©³ã—ãå­¦ã¶

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆéšå±¤

```
æ¦‚è¦ã‚’çŸ¥ã‚ŠãŸã„ â†’ README.md
     â†“
é–‹ç™ºã«å‚åŠ ã—ãŸã„ â†’ CONTRIBUTING.md
     â†“
è¨­è¨ˆåˆ¤æ–­ã®èƒŒæ™¯ã‚’çŸ¥ã‚ŠãŸã„ â†’ docs/adr/*.md
     â†“
æŠ€è¡“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ·±ãç†è§£ã—ãŸã„ â†’ ARCHITECTURE.md
     â†“
ãƒ“ã‚¸ãƒã‚¹ãƒ»ä¼æ¥­æƒ…å ±ã‚’çŸ¥ã‚ŠãŸã„ â†’ docs/company-overview.md
```

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåˆ¥ç”¨é€”

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ                 | ç”¨é€”                                                 | å¯¾è±¡èª­è€…             |
| ---------------------------- | ---------------------------------------------------- | -------------------- |
| **README.md**                | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã€ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ                   | å…¨å“¡                 |
| **CLAUDE.md**                | Claude å‘ã‘ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹                      | AI é–‹ç™ºã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ  |
| **CONTRIBUTING.md**          | ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã€Git/ã‚³ãƒŸãƒƒãƒˆè¦ç´„ã€ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ | é–‹ç™ºè€…               |
| **ARCHITECTURE.md**          | æŠ€è¡“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è©³ç´°ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã€API è¨­è¨ˆ   | é–‹ç™ºè€…ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ |
| **docs/adr/\*.md**           | è¨­è¨ˆåˆ¤æ–­ã®èƒŒæ™¯ãƒ»ç†ç”±                                 | é–‹ç™ºè€…ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ |
| **docs/company-overview.md** | ãƒ“ã‚¸ãƒ§ãƒ³ãƒ»ãƒŸãƒƒã‚·ãƒ§ãƒ³ã€æ–™é‡‘ä½“ç³»                       | å…¨å“¡                 |

---

## ğŸ“ ã‚ˆãã‚ã‚‹è³ªå•ï¼ˆFAQï¼‰

### Q1: ãªãœ Rails ã¨ Next.js ã®ä¸¡æ–¹ã‚’ä½¿ã†ã®ã‹ï¼Ÿ

**A**:

- **Rails**: ãƒãƒƒã‚¯ã‚ªãƒ•ã‚£ã‚¹ã€API æä¾›ã€ãƒ‡ãƒ¼ã‚¿å‡¦ç†ï¼ˆMVC/CRUD/REST ã«å¿ å®Ÿã€scaffold æ©Ÿèƒ½ï¼‰
- **Next.js**: ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã‚µã‚¤ãƒˆï¼ˆå°†æ¥ã€ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã—ã‚„ã™ã„ã¨ã„ã†ç†ç”±ã®ã¿ï¼‰

ç¾æ™‚ç‚¹ã§ã¯ Rails ã®ã¿ã€‚Next.js ã¯ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°å¿…è¦æ€§ãŒç”Ÿã˜ãŸã‚‰å°å…¥ã€‚

### Q2: ãªãœ Solidus ã‚’é¸ã‚“ã ã®ã‹ï¼Ÿ

**A**:

- EC ã‚µã‚¤ãƒˆã‚’è¤‡æ•°ç«‹ã¡ä¸Šã’ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€**80%ã¾ã§ã¯è‡ªå‹•ã§ç”Ÿæˆ**ã—ãŸã‹ã£ãŸ
- Rails + Solidus ã§ã‚ã‚Œã°ã€è‡ªå‰å®Ÿè£…éƒ¨åˆ†ãŒå°‘ãªã„
- å†·å‡é£Ÿå“ã®ç‰¹æ®Šæ€§ï¼ˆä¿ç®¡æ¸©åº¦ã€è³å‘³æœŸé™ç­‰ï¼‰ã¯**PoC**ãƒ¬ãƒ™ãƒ«ã§ Decorator æ‹¡å¼µ

### Q3: ãªãœç‰©ç†åˆ†é›¢ã§ã¯ãªãè«–ç†åˆ†é›¢ãªã®ã‹ï¼Ÿ

**A**:

- **ç®¡ç†ã‚’è¤‡é›‘ã«ã—ãªã„ãŸã‚**
- åˆ†é›¢ã™ã‚‹æ˜ç¢ºãªç†ç”±ãŒã§ãã‚‹ã¾ã§ã¯ã€è«–ç†åˆ†é›¢ï¼ˆclient_codeï¼‰ã§ååˆ†
- å°†æ¥ã€å¿…è¦ã«å¿œã˜ã¦ç‰©ç†åˆ†é›¢ã¸ç§»è¡Œå¯èƒ½ï¼ˆYAGNI åŸå‰‡ï¼‰

### Q4: Platform ã¨ Shrimp Shells EC ã®é•ã„ã¯ï¼Ÿ

**A**:
| é …ç›® | Platform | Shrimp Shells EC |
|------|----------|------------------|
| **è²¬å‹™** | å…¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå…±é€šæ©Ÿèƒ½ | restaurant å›ºæœ‰ EC æ©Ÿèƒ½ |
| **ä¾‹** | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç®¡ç†ã€æ¸…æƒç®¡ç†ã€AI åˆ¤å®š | å†·å‡é£Ÿå“è²©å£²ã€åœ¨åº«ç®¡ç† |
| **ãƒãƒ¼ãƒˆ** | 3001 | 3002 |
| **æŠ€è¡“** | Rails 8 | Rails 8 + Solidus |
| **ãƒ‡ãƒ¼ã‚¿** | ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆ | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå›ºæœ‰ |

### Q5: n8n ã® Projects æ©Ÿèƒ½ã¨ã¯ï¼Ÿ

**A**:

- n8n 2.1.1 ã§æä¾›ã•ã‚Œã‚‹**ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ç®¡ç†æ©Ÿèƒ½**
- Project å˜ä½ã§ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ»ã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«ã‚’**å®Œå…¨åˆ†é›¢**
- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ¯ã« Project ã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ã€ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆå¯¾å¿œ

### Q6: ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã® (issue#XX) ã¯å¿…é ˆï¼Ÿ

**A**:

- **å¿…é ˆ**ï¼ˆIssue ã«ç´ä»˜ã‘ã‚‹ã“ã¨ã§ã€å¤‰æ›´å±¥æ­´ã‚’è¿½è·¡å¯èƒ½ï¼‰
- Conventional Commits: `<type>(<scope>): <subject> (issue#<ç•ªå·>)`

---

## ğŸ’¡ Claude å‘ã‘ Tips

### ã‚³ãƒ¼ãƒ‰ç”Ÿæˆæ™‚ã®æ³¨æ„ç‚¹

1. **Solidus ã¯ Decorator ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å¿…ãšä½¿ç”¨**:

   - Solidus æ‹¡å¼µã¯`prepend`ã§å®Ÿè£…
   - ç›´æ¥ç·¨é›†ã€Fork ã¯çµ¶å¯¾ NG

2. **client_code ã‚¹ã‚³ãƒ¼ãƒ—ã‚’å¿…ãšä½¿ç”¨**:

   - ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã¯`for_client(code)`
   - ã‚¹ã‚³ãƒ¼ãƒ—ãªã—ã®ã‚¯ã‚¨ãƒªã¯å±é™º

3. **Service Object / ViewComponent ãƒ‘ã‚¿ãƒ¼ãƒ³**:

   - è¤‡é›‘ãªãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ â†’ Service Object
   - å†åˆ©ç”¨å¯èƒ½ãª UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ â†’ ViewComponent

4. **ãƒ†ã‚¹ãƒˆå¿…é ˆ**:

   - æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã¯å¿…ãš RSpec ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
   - ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™: 80%ä»¥ä¸Š

5. **ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¦ç´„**:
   - Conventional Commits å½¢å¼
   - `(issue#XX)` ã‚’å¿…ãšå«ã‚ã‚‹

### æ¨å¥¨ã™ã‚‹å›ç­”ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

**å•é¡Œè§£æ±ºæ™‚**:

```markdown
## åŸå› 

ï¼ˆå•é¡Œã®åŸå› ã‚’èª¬æ˜ï¼‰

## è§£æ±ºç­–

ï¼ˆå…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰ä¾‹ã‚’æç¤ºï¼‰

## ãƒ†ã‚¹ãƒˆ

ï¼ˆãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ä¾‹ã‚’æç¤ºï¼‰

## å‚è€ƒ

ï¼ˆé–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€ADR ç­‰ã¸ã®ãƒªãƒ³ã‚¯ï¼‰
```

**å®Ÿè£…ææ¡ˆæ™‚**:

```markdown
## ææ¡ˆå†…å®¹

ï¼ˆä½•ã‚’å®Ÿè£…ã™ã‚‹ã‹ï¼‰

## è¨­è¨ˆæ–¹é‡

ï¼ˆã©ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã†ã‹ã€ãªãœã‹ï¼‰

## å®Ÿè£…ä¾‹

ï¼ˆå…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰ä¾‹ï¼‰

## ãƒ†ã‚¹ãƒˆæ–¹é‡

ï¼ˆã©ã®ã‚ˆã†ã«ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹ï¼‰

## é–¢é€£ ADR

ï¼ˆé–¢é€£ã™ã‚‹è¨­è¨ˆåˆ¤æ–­è¨˜éŒ²ï¼‰
```

---

## ğŸ”— é–¢é€£ãƒªãƒ³ã‚¯

- **GitHub Issues**: https://github.com/zomians/landbase_ai_suite/issues
- **Solidus Guides**: https://guides.solidus.io/
- **n8n Documentation**: https://docs.n8n.io/
- **Mattermost Documentation**: https://docs.mattermost.com/
- **Rails Guides**: https://guides.rubyonrails.org/

---

**Last Updated**: 2025-12-07
**Version**: 1.0
