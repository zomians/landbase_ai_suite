# LandBase AI Suite - çµ±åˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### 1.1 ãƒ“ã‚¸ãƒ§ãƒ³

LandBase AI Suite ã¯ã€å°è¦æ¨¡äº‹æ¥­è€…ï¼ˆè¦³å…‰æ¥­ã€é£²é£Ÿæ¥­ã€ECç­‰ï¼‰å‘ã‘ã®çµ±åˆå‹ãƒ“ã‚¸ãƒã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           LandBase AI Suite Platform                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   EC Engine  â”‚  â”‚ AI Accountingâ”‚  â”‚  n8n Auto-   â”‚      â”‚
â”‚  â”‚   (Solidus)  â”‚  â”‚   Dashboard  â”‚  â”‚  mation      â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                  â”‚                  â”‚              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                           â”‚                                  â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚                  â”‚  Multi-Tenancy  â”‚                         â”‚
â”‚                  â”‚  (Schema-based) â”‚                         â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  AI Brand Asset Builder (Optional)                â”‚      â”‚
â”‚  â”‚  - ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¹ãƒˆãƒ¼ãƒªãƒ¼è‡ªå‹•ç”Ÿæˆ                      â”‚      â”‚
â”‚  â”‚  - SNSæˆ¦ç•¥è‡ªå‹•ç”Ÿæˆ                                 â”‚      â”‚
â”‚  â”‚  - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è‡ªå‹•ç”Ÿæˆ                    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ä¸»è¦æ©Ÿèƒ½

1. **ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆ ECï¼ˆSolidusï¼‰**
   - æ¥­ç¨®åˆ¥ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å¯¾å¿œï¼ˆå†·å‡é£Ÿå“ã€ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³äºˆç´„ã€å®¿æ³Šäºˆç´„ç­‰ï¼‰
   - ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆãƒ•ãƒ­ãƒ¼
   - åœ¨åº«ç®¡ç†ã€é…é€ç®¡ç†

2. **AIãƒ‰ãƒªãƒ–ãƒ³ç®¡ç†ä¼šè¨ˆ**
   - ä¼šè©±å‹AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆï¼ˆClaude APIï¼‰
   - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
   - ç•°å¸¸æ¤œçŸ¥ï¼†ã‚¢ãƒ©ãƒ¼ãƒˆ
   - æœˆæ¬¡ãƒ¬ãƒãƒ¼ãƒˆè‡ªå‹•ç”Ÿæˆ

3. **n8n ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è‡ªå‹•åŒ–**
   - ECæ³¨æ–‡â†’Mattermosté€šçŸ¥
   - åœ¨åº«åˆ‡ã‚Œâ†’è‡ªå‹•ç™ºæ³¨
   - æœˆæ¬¡ãƒ¬ãƒãƒ¼ãƒˆâ†’ãƒ¡ãƒ¼ãƒ«é…ä¿¡
   - Instagramè‡ªå‹•æŠ•ç¨¿

4. **AI Brand Asset Builderï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ï¼‰**
   - AIã‚¬ã‚¤ãƒ‰ä»˜ãã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ï¼ˆ6å•ï¼‰
   - Claude APIã«ã‚ˆã‚‹è‡ªå‹•ç”Ÿæˆï¼š
     - ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ï¼ˆ4ç« æ§‹æˆï¼‰
     - SNSæˆ¦ç•¥ï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ”ãƒ©ãƒ¼ã€ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°æˆ¦ç•¥ï¼‰
     - æœˆé–“æŠ•ç¨¿ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼
     - åˆå›æŠ•ç¨¿æ¡ˆï¼ˆ5æŠ•ç¨¿åˆ†ï¼‰
   - ç”Ÿæˆçµæœã®æ°¸ç¶šåŒ–ï¼†ç·¨é›†å¯èƒ½
   - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå°‚ç”¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§é–²è¦§

### 1.3 è¨­è¨ˆæ–¹é‡

- **å®Œå…¨ãªã‚¹ã‚­ãƒ¼ãƒåˆ†é›¢**ï¼šã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã”ã¨ã«ç‹¬ç«‹ã—ãŸPostgreSQLã‚¹ã‚­ãƒ¼ãƒ
- **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ï¼šæ¥­ç¨®åˆ¥æ©Ÿèƒ½ã‚’ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–
- **AI-First**ï¼šãƒ–ãƒ©ãƒ³ãƒ‰æ§‹ç¯‰ã‹ã‚‰çµŒå–¶åˆ†æã¾ã§ã€AIãŒæ”¯æ´
- **æ®µéšçš„å±•é–‹**ï¼šShrimp Shells ã‚’ PoC ã¨ã—ã¦ã€å­¦ç¿’ã‚’æŠ½å‡º

---

## 2. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ±ºå®šäº‹é …

### 2.1 ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆæ–¹å¼

**æ¡ç”¨ï¼šOption A - ã‚¹ã‚­ãƒ¼ãƒå®Œå…¨åˆ†é›¢**

#### ç†ç”±

1. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**ï¼šã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆAã®ãƒ‡ãƒ¼ã‚¿ãŒã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆBã®ã‚¯ã‚¨ãƒªã§èª¤ã£ã¦å–å¾—ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚¼ãƒ­
2. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**ï¼šå„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒç‹¬ç«‹ã€å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã§ã‚‚å½±éŸ¿ãªã—
3. **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§**ï¼šã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã”ã¨ã«ã‚¹ã‚­ãƒ¼ãƒæ‹¡å¼µå¯èƒ½ï¼ˆä¾‹ï¼šfrozen_food_variants ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ ï¼‰
4. **æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®æ•´åˆæ€§**ï¼šn8nã‚‚æ—¢ã«ã‚¹ã‚­ãƒ¼ãƒåˆ†é›¢ã‚’æ¡ç”¨

#### å®Ÿè£…æ–¹æ³•

- **Apartment gem** (v3.2.0) - Rails 8.0å¯¾å¿œ
- ã‚¹ã‚­ãƒ¼ãƒå‘½åè¦å‰‡ï¼š
  - `ec_{client_code}` - ECï¼ˆSolidusï¼‰
  - `accounting_{client_code}` - ç®¡ç†ä¼šè¨ˆ
  - `n8n_{client_code}` - n8nãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆæ—¢å­˜ï¼‰
  - `public` - ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å…±é€šï¼ˆclients, brand_configurations, pluginsç­‰ï¼‰

```ruby
# config/initializers/apartment.rb
Apartment.configure do |config|
  config.excluded_models = ["Client", "BrandConfiguration", "SnsStrategy", "Plugin"]
  config.tenant_names = -> { Client.pluck(:code) }
  config.use_schemas = true
  config.persistent_schemas = true
end
```

### 2.2 ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ–¹å¼

**æ¡ç”¨ï¼šè¤‡åˆçš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ + è¨­å®šï¼‰**

#### ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

æ¥­ç¨®ç‰¹åŒ–å‹ã®æ©Ÿèƒ½ã‚’ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã—ã¦å®Ÿè£…ï¼š

```ruby
# lib/landbase/plugins/frozen_food_plugin.rb
module Landbase
  module Plugins
    class FrozenFoodPlugin < BasePlugin
      def name
        "Frozen Food EC"
      end

      def migrations
        [
          "add_temperature_zone_to_variants",
          "add_expiration_date_to_inventory",
          "create_cold_chain_logs"
        ]
      end

      def checkout_customizations
        {
          require_delivery_date: true,
          require_time_slot: true,
          temperature_zones: ["å†·è”µ", "å†·å‡"]
        }
      end

      def admin_menu_items
        [
          { label: "å†·å‡åœ¨åº«ç®¡ç†", path: "/admin/frozen_inventory" },
          { label: "æ¸©åº¦å¸¯åˆ¥é…é€", path: "/admin/cold_chain_delivery" }
        ]
      end
    end
  end
end
```

#### è¨­å®šãƒ™ãƒ¼ã‚¹ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

è»½å¾®ãªèª¿æ•´ã¯ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§å¯¾å¿œï¼š

```yaml
# config/clients/shrimp_shells.yml
client_code: shrimp_shells
plugins:
  - frozen_food
  - sns_marketing
branding:
  primary_color: "#FF6B35"
  logo_url: "/assets/clients/shrimp_shells/logo.png"
checkout:
  require_delivery_date: true
  delivery_lead_days: 3
```

### 2.3 Shrimp Shells ã®ä½ç½®ã¥ã‘

**PoCï¼ˆProof of Conceptï¼‰**

- **ç›®çš„**ï¼šFrozenFoodPlugin ã®å®Ÿè£…ã¨æ¤œè¨¼
- **å­¦ç¿’å†…å®¹**ï¼š
  - æ¸©åº¦å¸¯åˆ¥é…é€ã®å®Ÿè£…æ–¹æ³•
  - SNSè‡ªå‹•æŠ•ç¨¿ã®åŠ¹æœæ¸¬å®š
  - AIãƒ–ãƒ©ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ€ãƒ¼ã®ç²¾åº¦è©•ä¾¡
- **æŠ½å‡ºä½œæ¥­**ï¼š
  - Shrimp Shells å›ºæœ‰ã‚³ãƒ¼ãƒ‰ â†’ `feature/shrimp-shells` ãƒ–ãƒ©ãƒ³ãƒ
  - æ±ç”¨åŒ–å¯èƒ½ã‚³ãƒ¼ãƒ‰ â†’ `main` ãƒ–ãƒ©ãƒ³ãƒã® FrozenFoodPlugin ã¸

### 2.4 AIãƒ–ãƒ©ãƒ³ãƒ‰è³‡ç”£ã®æ‰±ã„

**æ¡ç”¨ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåŒ– + ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå›ºæœ‰ã«æ°¸ç¶šåŒ–**

#### è¨­è¨ˆ

1. **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**ï¼š
   ```ruby
   # app/services/ai_brand_builder_service.rb
   def build_brand_generation_prompt(interview_answers)
     <<~PROMPT
       ã‚ãªãŸã¯çµŒé¨“è±Šå¯Œãªãƒ–ãƒ©ãƒ³ãƒ‰ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒ©ãƒ¼å…¼SNSãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æˆ¦ç•¥å®¶ã§ã™ã€‚

       ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæƒ…å ±ã€‘
       å•†å“ãƒ»ã‚µãƒ¼ãƒ“ã‚¹: #{interview_answers['product']}
       ã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¡§å®¢: #{interview_answers['target']}
       èµ·æºã‚¹ãƒˆãƒ¼ãƒªãƒ¼: #{interview_answers['origin']}
       å·®åˆ¥åŒ–è¦å› : #{interview_answers['differentiation']}
       ãƒ“ã‚¸ãƒ§ãƒ³: #{interview_answers['vision']}

       ã€ç”Ÿæˆã—ã¦ãã ã•ã„ã€‘
       1. ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ï¼ˆ4ç« æ§‹æˆã€å„ç« 200-300å­—ï¼‰
       2. ã‚³ã‚¢ãƒãƒªãƒ¥ãƒ¼ï¼ˆ3-5å€‹ï¼‰
       3. ãƒ–ãƒ©ãƒ³ãƒ‰ãƒœã‚¤ã‚¹ï¼ˆãƒˆãƒ¼ãƒ³ï¼†ãƒãƒŠãƒ¼ï¼‰
       4. SNSæˆ¦ç•¥
          - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ”ãƒ©ãƒ¼ï¼ˆ4ã¤ã€å‰²åˆä»˜ãï¼‰
          - ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°æˆ¦ç•¥ï¼ˆå¤§ãƒ»ä¸­ãƒ»ãƒ‹ãƒƒãƒã®3å±¤ï¼‰
          - æ¨å¥¨æŠ•ç¨¿é »åº¦
       5. æœˆé–“æŠ•ç¨¿ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ï¼ˆãƒ†ãƒ¼ãƒä»˜ãï¼‰
       6. åˆå›æŠ•ç¨¿æ¡ˆï¼ˆ5æŠ•ç¨¿åˆ†ã€ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ï¼†ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ï¼‰

       ã€å‡ºåŠ›å½¢å¼ã€‘JSON
     PROMPT
   end
   ```

2. **ç”Ÿæˆçµæœã®æ°¸ç¶šåŒ–**ï¼š
   ```sql
   -- public.brand_configurations
   CREATE TABLE brand_configurations (
     id BIGSERIAL PRIMARY KEY,
     client_id BIGINT NOT NULL REFERENCES clients(id),
     brand_story JSONB NOT NULL,  -- { chapter1: "...", chapter2: "...", ... }
     core_values TEXT[],
     brand_voice JSONB,  -- { tone: "...", manner: "..." }
     created_by_ai BOOLEAN DEFAULT false,
     created_at TIMESTAMP NOT NULL DEFAULT NOW(),
     updated_at TIMESTAMP NOT NULL DEFAULT NOW()
   );

   -- public.sns_strategies
   CREATE TABLE sns_strategies (
     id BIGSERIAL PRIMARY KEY,
     client_id BIGINT NOT NULL REFERENCES clients(id),
     platform VARCHAR(20) NOT NULL,  -- 'instagram', 'tiktok', etc.
     content_pillars JSONB NOT NULL,  -- [{ name: "...", ratio: 40 }, ...]
     hashtag_strategy JSONB NOT NULL,
     posting_frequency VARCHAR(50),
     created_at TIMESTAMP NOT NULL DEFAULT NOW(),
     updated_at TIMESTAMP NOT NULL DEFAULT NOW()
   );

   -- public.content_templates
   CREATE TABLE content_templates (
     id BIGSERIAL PRIMARY KEY,
     sns_strategy_id BIGINT NOT NULL REFERENCES sns_strategies(id),
     post_type VARCHAR(50),  -- 'reel', 'carousel', 'story'
     caption TEXT NOT NULL,
     hashtags TEXT[],
     image_prompt TEXT,  -- AIç”»åƒç”Ÿæˆç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆå°†æ¥çš„ã«ï¼‰
     scheduled_date DATE,
     created_at TIMESTAMP NOT NULL DEFAULT NOW()
   );
   ```

3. **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**ï¼š
   - `/dashboard/brand` - ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¹ãƒˆãƒ¼ãƒªãƒ¼é–²è¦§ï¼†ç·¨é›†
   - `/dashboard/sns-strategy` - SNSæˆ¦ç•¥é–²è¦§ï¼†ç·¨é›†
   - `/dashboard/content-calendar` - æŠ•ç¨¿ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é–²è¦§ï¼†ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°

---

## 3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### 3.1 ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å…±é€šï¼ˆpublic ã‚¹ã‚­ãƒ¼ãƒï¼‰

```sql
-- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç®¡ç†
CREATE TABLE clients (
  id BIGSERIAL PRIMARY KEY,
  code VARCHAR(50) NOT NULL UNIQUE,  -- 'shrimp_shells', 'restaurant_a'
  name VARCHAR(255) NOT NULL,
  industry VARCHAR(50),  -- 'frozen_food', 'restaurant', 'tourism'
  active BOOLEAN DEFAULT true,
  created_at TIMESTAMP NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMP NOT NULL DEFAULT NOW()
);

-- ãƒ–ãƒ©ãƒ³ãƒ‰è¨­å®šï¼ˆAI Brand Asset Builder ã®å‡ºåŠ›ï¼‰
CREATE TABLE brand_configurations (
  id BIGSERIAL PRIMARY KEY,
  client_id BIGINT NOT NULL REFERENCES clients(id),
  brand_story JSONB NOT NULL,
  core_values TEXT[],
  brand_voice JSONB,
  created_by_ai BOOLEAN DEFAULT false,
  ai_generation_prompt TEXT,  -- å†ç”Ÿæˆæ™‚ã®ãŸã‚
  created_at TIMESTAMP NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMP NOT NULL DEFAULT NOW()
);

-- SNSæˆ¦ç•¥ï¼ˆAI Brand Asset Builder ã®å‡ºåŠ›ï¼‰
CREATE TABLE sns_strategies (
  id BIGSERIAL PRIMARY KEY,
  client_id BIGINT NOT NULL REFERENCES clients(id),
  platform VARCHAR(20) NOT NULL,
  content_pillars JSONB NOT NULL,
  hashtag_strategy JSONB NOT NULL,
  posting_frequency VARCHAR(50),
  created_at TIMESTAMP NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMP NOT NULL DEFAULT NOW()
);

-- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆAI Brand Asset Builder ã®å‡ºåŠ›ï¼‰
CREATE TABLE content_templates (
  id BIGSERIAL PRIMARY KEY,
  sns_strategy_id BIGINT NOT NULL REFERENCES sns_strategies(id),
  post_type VARCHAR(50),
  caption TEXT NOT NULL,
  hashtags TEXT[],
  image_prompt TEXT,
  scheduled_date DATE,
  published BOOLEAN DEFAULT false,
  created_at TIMESTAMP NOT NULL DEFAULT NOW()
);

-- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç®¡ç†
CREATE TABLE plugins (
  id BIGSERIAL PRIMARY KEY,
  name VARCHAR(100) NOT NULL UNIQUE,  -- 'frozen_food', 'restaurant_booking'
  display_name VARCHAR(255) NOT NULL,
  version VARCHAR(20) NOT NULL,
  enabled BOOLEAN DEFAULT true,
  created_at TIMESTAMP NOT NULL DEFAULT NOW()
);

-- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ-ãƒ—ãƒ©ã‚°ã‚¤ãƒ³é–¢é€£ä»˜ã‘
CREATE TABLE client_plugins (
  id BIGSERIAL PRIMARY KEY,
  client_id BIGINT NOT NULL REFERENCES clients(id),
  plugin_id BIGINT NOT NULL REFERENCES plugins(id),
  config JSONB,  -- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å›ºæœ‰ã®è¨­å®š
  enabled BOOLEAN DEFAULT true,
  created_at TIMESTAMP NOT NULL DEFAULT NOW(),
  UNIQUE(client_id, plugin_id)
);
```

### 3.2 ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå›ºæœ‰ã‚¹ã‚­ãƒ¼ãƒ

#### ec_{client_code} ã‚¹ã‚­ãƒ¼ãƒï¼ˆSolidusï¼‰

```sql
-- Solidusæ¨™æº–ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæŠœç²‹ï¼‰
CREATE TABLE spree_products (
  id BIGSERIAL PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  description TEXT,
  available_on TIMESTAMP,
  deleted_at TIMESTAMP,
  slug VARCHAR(255) UNIQUE,
  created_at TIMESTAMP NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE TABLE spree_variants (
  id BIGSERIAL PRIMARY KEY,
  product_id BIGINT NOT NULL REFERENCES spree_products(id),
  sku VARCHAR(255) UNIQUE NOT NULL,
  price DECIMAL(10,2) NOT NULL,
  cost_price DECIMAL(10,2),
  weight DECIMAL(8,2),
  height DECIMAL(8,2),
  width DECIMAL(8,2),
  depth DECIMAL(8,2),
  deleted_at TIMESTAMP,
  created_at TIMESTAMP NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE TABLE spree_orders (
  id BIGSERIAL PRIMARY KEY,
  number VARCHAR(32) UNIQUE,
  user_id BIGINT,
  email VARCHAR(255),
  state VARCHAR(255),  -- 'cart', 'address', 'delivery', 'payment', 'confirm', 'complete'
  item_total DECIMAL(10,2) DEFAULT 0,
  total DECIMAL(10,2) DEFAULT 0,
  payment_state VARCHAR(255),
  shipment_state VARCHAR(255),
  completed_at TIMESTAMP,
  created_at TIMESTAMP NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMP NOT NULL DEFAULT NOW()
);

-- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ‹¡å¼µãƒ†ãƒ¼ãƒ–ãƒ«ä¾‹ï¼ˆFrozenFoodPluginï¼‰
CREATE TABLE frozen_food_variants (
  id BIGSERIAL PRIMARY KEY,
  variant_id BIGINT NOT NULL REFERENCES spree_variants(id),
  temperature_zone VARCHAR(20) NOT NULL,  -- 'å†·è”µ', 'å†·å‡'
  expiration_days INTEGER NOT NULL,
  storage_instructions TEXT,
  created_at TIMESTAMP NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE TABLE cold_chain_logs (
  id BIGSERIAL PRIMARY KEY,
  shipment_id BIGINT NOT NULL,
  checkpoint VARCHAR(100) NOT NULL,  -- 'å‡ºè·', 'é…é€ä¸­', 'é…é”å®Œäº†'
  temperature DECIMAL(4,1),
  recorded_at TIMESTAMP NOT NULL,
  created_at TIMESTAMP NOT NULL DEFAULT NOW()
);
```

#### accounting_{client_code} ã‚¹ã‚­ãƒ¼ãƒ

```sql
-- ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆECã€æ‰‹å‹•å…¥åŠ›ã€APIé€£æºï¼‰
CREATE TABLE transactions (
  id BIGSERIAL PRIMARY KEY,
  transaction_date DATE NOT NULL,
  type VARCHAR(20) NOT NULL,  -- 'income', 'expense'
  category VARCHAR(100) NOT NULL,  -- 'å£²ä¸Š', 'ä»•å…¥', 'åºƒå‘Šè²»', etc.
  amount DECIMAL(12,2) NOT NULL,
  description TEXT,
  source VARCHAR(50),  -- 'ec', 'manual', 'api'
  source_id VARCHAR(100),  -- ECæ³¨æ–‡ç•ªå·ç­‰
  created_at TIMESTAMP NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMP NOT NULL DEFAULT NOW()
);

-- KPI ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆï¼ˆæ—¥æ¬¡é›†è¨ˆï¼‰
CREATE TABLE kpi_snapshots (
  id BIGSERIAL PRIMARY KEY,
  snapshot_date DATE NOT NULL UNIQUE,
  total_sales DECIMAL(12,2) NOT NULL,
  total_cost DECIMAL(12,2) NOT NULL,
  gross_margin DECIMAL(12,2) NOT NULL,
  gross_margin_rate DECIMAL(5,2) NOT NULL,
  order_count INTEGER NOT NULL,
  customer_count INTEGER NOT NULL,
  avg_order_value DECIMAL(10,2) NOT NULL,
  cac DECIMAL(10,2),  -- Customer Acquisition Cost
  ltv DECIMAL(10,2),  -- Lifetime Value
  created_at TIMESTAMP NOT NULL DEFAULT NOW()
);

-- ä¼šè©±å±¥æ­´ï¼ˆAIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆï¼‰
CREATE TABLE conversation_history (
  id BIGSERIAL PRIMARY KEY,
  user_id BIGINT NOT NULL,
  session_id VARCHAR(100),
  user_message TEXT NOT NULL,
  ai_response TEXT NOT NULL,
  intent VARCHAR(50),  -- 'query_metric', 'compare_period', 'anomaly_check'
  query_context JSONB,  -- { metric: 'gross_margin', period: 'last_month' }
  execution_time_ms INTEGER,
  created_at TIMESTAMP NOT NULL DEFAULT NOW()
);

-- ç•°å¸¸æ¤œçŸ¥ãƒ­ã‚°
CREATE TABLE anomaly_logs (
  id BIGSERIAL PRIMARY KEY,
  metric VARCHAR(50) NOT NULL,  -- 'sales', 'gross_margin_rate', 'inventory_turnover'
  expected_value DECIMAL(12,2),
  actual_value DECIMAL(12,2),
  deviation_pct DECIMAL(5,2),
  severity VARCHAR(20),  -- 'info', 'warning', 'critical'
  notified BOOLEAN DEFAULT false,
  detected_at TIMESTAMP NOT NULL,
  created_at TIMESTAMP NOT NULL DEFAULT NOW()
);
```

---

## 4. AI Brand Asset Builderï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ï¼‰

### 4.1 æ©Ÿèƒ½æ¦‚è¦

**é‡è¦ï¼šã“ã®æ©Ÿèƒ½ã¯å…¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒä½¿ç”¨ã™ã‚‹å¿…é ˆæ©Ÿèƒ½ã§ã¯ãªãã€å¸Œæœ›ã™ã‚‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå‘ã‘ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã§ã™ã€‚**

AI Brand Asset Builder ã¯ã€ãƒ–ãƒ©ãƒ³ãƒ‰æ§‹ç¯‰çµŒé¨“ã®å°‘ãªã„äº‹æ¥­è€…ã‚’æ”¯æ´ã™ã‚‹ãŸã‚ã®é©æ–°çš„ãªæ©Ÿèƒ½ã§ã™ï¼š

- **å¯¾è±¡ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**ï¼š
  - ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’æŒã£ã¦ã„ãªã„æ–°è¦äº‹æ¥­è€…
  - SNSæˆ¦ç•¥ã«è‡ªä¿¡ãŒãªã„äº‹æ¥­è€…
  - ãƒ—ãƒ­ã®ãƒãƒ¼ã‚±ã‚¿ãƒ¼ã«ä¾é ¼ã™ã‚‹äºˆç®—ãŒãªã„å°è¦æ¨¡äº‹æ¥­è€…

- **åˆ©ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°**ï¼š
  - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç™»éŒ²æ™‚ï¼ˆã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®ä¸€éƒ¨ã¨ã—ã¦ï¼‰
  - ä»»æ„ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ï¼ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‹ã‚‰èµ·å‹•å¯èƒ½ï¼‰
  - ãƒ–ãƒ©ãƒ³ãƒ‰ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«æ™‚

- **ã‚¹ã‚­ãƒƒãƒ—å¯èƒ½**ï¼š
  - æ—¢å­˜ãƒ–ãƒ©ãƒ³ãƒ‰ã‚’æŒã¤ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ä½¿ç”¨ä¸è¦
  - æ‰‹å‹•ã§ãƒ–ãƒ©ãƒ³ãƒ‰è³‡ç”£ã‚’ä½œæˆã—ãŸã„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ä½¿ç”¨ä¸è¦

### 4.2 å®Ÿè£…ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  ã€ŒAIãƒ–ãƒ©ãƒ³ãƒ‰è³‡ç”£ãƒ“ãƒ«ãƒ€ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹ã€     â”‚ â† ä»»æ„       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                     â†“                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Step 1: AIã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ï¼ˆ6å•ï¼‰                       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  Q1: ã‚ãªãŸã®å•†å“ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ã¯ä½•ã§ã™ã‹ï¼Ÿ              â”‚   â”‚
â”‚  â”‚  Q2: ã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¡§å®¢ã¯èª°ã§ã™ã‹ï¼Ÿ                      â”‚   â”‚
â”‚  â”‚  Q3: ã“ã®å•†å“ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ã®èµ·æºã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’æ•™ãˆã¦      â”‚   â”‚
â”‚  â”‚      ãã ã•ã„ã€‚                                      â”‚   â”‚
â”‚  â”‚  Q4: ç«¶åˆã¨æ¯”ã¹ãŸå·®åˆ¥åŒ–è¦å› ã¯ä½•ã§ã™ã‹ï¼Ÿ              â”‚   â”‚
â”‚  â”‚  Q5: 5å¹´å¾Œã®ãƒ“ã‚¸ãƒ§ãƒ³ã¯ï¼Ÿ                             â”‚   â”‚
â”‚  â”‚  Q6: ãƒ–ãƒ©ãƒ³ãƒ‰ã§å¤§åˆ‡ã«ã—ãŸã„ä¾¡å€¤è¦³ã¯ï¼Ÿ                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                     â†“                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Step 2: AIç”Ÿæˆä¸­ï¼ˆClaude APIï¼‰                      â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  â³ ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’ç”Ÿæˆä¸­...                    â”‚   â”‚
â”‚  â”‚  â³ SNSæˆ¦ç•¥ã‚’ç­–å®šä¸­...                               â”‚   â”‚
â”‚  â”‚  â³ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’ä½œæˆä¸­...                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                     â†“                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Step 3: ç”Ÿæˆçµæœãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼                          â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  ğŸ“– ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ï¼ˆ4ç« ï¼‰                        â”‚   â”‚
â”‚  â”‚  ğŸ¯ SNSæˆ¦ç•¥ï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ”ãƒ©ãƒ¼ã€ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ï¼‰        â”‚   â”‚
â”‚  â”‚  ğŸ“… æœˆé–“æŠ•ç¨¿ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼                               â”‚   â”‚
â”‚  â”‚  ğŸ“± åˆå›æŠ•ç¨¿æ¡ˆï¼ˆ5æŠ•ç¨¿ï¼‰                              â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  [ç·¨é›†ã™ã‚‹] [ãã®ã¾ã¾ä¿å­˜] [å†ç”Ÿæˆ]                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                     â†“                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Step 4: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ°¸ç¶šåŒ–                        â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  âœ… brand_configurations ãƒ†ãƒ¼ãƒ–ãƒ«                    â”‚   â”‚
â”‚  â”‚  âœ… sns_strategies ãƒ†ãƒ¼ãƒ–ãƒ«                          â”‚   â”‚
â”‚  â”‚  âœ… content_templates ãƒ†ãƒ¼ãƒ–ãƒ«                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                     â†“                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§é–²è¦§ãƒ»ç·¨é›†å¯èƒ½                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 ã‚³ãƒ¼ãƒ‰å®Ÿè£…ä¾‹

```ruby
# app/services/ai_brand_builder_service.rb
class AiBrandBuilderService
  def initialize(client)
    @client = client
  end

  def generate_brand_assets(interview_answers)
    prompt = build_brand_generation_prompt(interview_answers)

    response = call_claude_api(
      prompt: prompt,
      max_tokens: 4096,
      model: "claude-3-5-sonnet-20250514"
    )

    brand_assets = JSON.parse(response)
    persist_brand_assets(brand_assets)

    brand_assets
  end

  private

  def build_brand_generation_prompt(answers)
    <<~PROMPT
      ã‚ãªãŸã¯çµŒé¨“è±Šå¯Œãªãƒ–ãƒ©ãƒ³ãƒ‰ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒ©ãƒ¼å…¼SNSãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æˆ¦ç•¥å®¶ã§ã™ã€‚

      ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæƒ…å ±ã€‘
      å•†å“ãƒ»ã‚µãƒ¼ãƒ“ã‚¹: #{answers['product']}
      ã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¡§å®¢: #{answers['target']}
      èµ·æºã‚¹ãƒˆãƒ¼ãƒªãƒ¼: #{answers['origin']}
      å·®åˆ¥åŒ–è¦å› : #{answers['differentiation']}
      ãƒ“ã‚¸ãƒ§ãƒ³: #{answers['vision']}
      å¤§åˆ‡ã«ã—ãŸã„ä¾¡å€¤è¦³: #{answers['core_values']}

      ã€ç”Ÿæˆã—ã¦ãã ã•ã„ã€‘
      1. ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ï¼ˆ4ç« æ§‹æˆã€å„ç« 200-300å­—ï¼‰
         - Chapter 1: èµ·æºï¼ˆOriginï¼‰
         - Chapter 2: é€²åŒ–ï¼ˆEvolutionï¼‰
         - Chapter 3: è¨¼æ˜ï¼ˆProofï¼‰- é¡§å®¢ã‚„å°‚é–€å®¶ã‹ã‚‰ã®è©•ä¾¡
         - Chapter 4: æœªæ¥ï¼ˆVisionï¼‰

      2. ã‚³ã‚¢ãƒãƒªãƒ¥ãƒ¼ï¼ˆ3-5å€‹ã€å„50å­—ä»¥å†…ï¼‰

      3. ãƒ–ãƒ©ãƒ³ãƒ‰ãƒœã‚¤ã‚¹
         - ãƒˆãƒ¼ãƒ³ï¼ˆä¾‹ï¼šè¦ªã—ã¿ã‚„ã™ã„ã€ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã€æƒ…ç†±çš„ï¼‰
         - ãƒãƒŠãƒ¼ï¼ˆä¾‹ï¼šä¸å¯§èªã€ã‚¿ãƒ¡å£ã€æ•¬èªï¼‰

      4. SNSæˆ¦ç•¥ï¼ˆInstagramå‘ã‘ï¼‰
         - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ”ãƒ©ãƒ¼ï¼ˆ4ã¤ã€å‰²åˆä»˜ãã€åˆè¨ˆ100%ï¼‰
           ä¾‹ï¼š{ "å•†å“ç´¹ä»‹": 40, "èƒŒæ™¯ã‚¹ãƒˆãƒ¼ãƒªãƒ¼": 30, "ãŠå®¢æ§˜ã®å£°": 20, "èˆå°è£": 10 }
         - ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°æˆ¦ç•¥
           - å¤§ã‚¿ã‚°ï¼ˆ100ä¸‡æŠ•ç¨¿ä»¥ä¸Šï¼‰: 3å€‹
           - ä¸­ã‚¿ã‚°ï¼ˆ10ä¸‡-100ä¸‡æŠ•ç¨¿ï¼‰: 5å€‹
           - ãƒ‹ãƒƒãƒã‚¿ã‚°ï¼ˆ1ä¸‡-10ä¸‡æŠ•ç¨¿ï¼‰: 7å€‹
         - æ¨å¥¨æŠ•ç¨¿é »åº¦ï¼ˆä¾‹ï¼šé€±3-5å›ï¼‰

      5. æœˆé–“æŠ•ç¨¿ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ï¼ˆ30æ—¥åˆ†ã€å„æ—¥ã®ãƒ†ãƒ¼ãƒã®ã¿ï¼‰
         ä¾‹ï¼š{ "day1": "å•†å“ç´¹ä»‹", "day2": "èµ·æºã‚¹ãƒˆãƒ¼ãƒªãƒ¼", ... }

      6. åˆå›æŠ•ç¨¿æ¡ˆï¼ˆ5æŠ•ç¨¿åˆ†ï¼‰
         - æŠ•ç¨¿ã‚¿ã‚¤ãƒ—ï¼ˆReel/Carousel/Singleï¼‰
         - ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ï¼ˆ150-300å­—ï¼‰
         - ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ï¼ˆ15å€‹ï¼‰
         - æ¨å¥¨ç”»åƒãƒ»å‹•ç”»ã®å†…å®¹èª¬æ˜

      ã€å‡ºåŠ›å½¢å¼ã€‘
      å¿…ãšä»¥ä¸‹ã®JSONå½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ï¼š
      {
        "brand_story": {
          "chapter1": "...",
          "chapter2": "...",
          "chapter3": "...",
          "chapter4": "..."
        },
        "core_values": ["...", "...", "..."],
        "brand_voice": {
          "tone": "...",
          "manner": "..."
        },
        "sns_strategy": {
          "platform": "instagram",
          "content_pillars": [
            { "name": "...", "ratio": 40 },
            ...
          ],
          "hashtag_strategy": {
            "big": ["#...", "#...", "#..."],
            "medium": ["#...", ...],
            "niche": ["#...", ...]
          },
          "posting_frequency": "é€±3-5å›"
        },
        "content_calendar": {
          "day1": "å•†å“ç´¹ä»‹",
          ...
        },
        "initial_posts": [
          {
            "type": "reel",
            "caption": "...",
            "hashtags": ["#...", ...],
            "visual_description": "..."
          },
          ...
        ]
      }
    PROMPT
  end

  def call_claude_api(prompt:, max_tokens:, model:)
    require 'anthropic'

    client = Anthropic::Client.new(api_key: ENV['ANTHROPIC_API_KEY'])

    response = client.messages(
      parameters: {
        model: model,
        max_tokens: max_tokens,
        messages: [
          { role: "user", content: prompt }
        ]
      }
    )

    response.dig("content", 0, "text")
  rescue => e
    Rails.logger.error("Claude API Error: #{e.message}")
    raise
  end

  def persist_brand_assets(assets)
    ActiveRecord::Base.transaction do
      # 1. ãƒ–ãƒ©ãƒ³ãƒ‰è¨­å®š
      brand_config = BrandConfiguration.create!(
        client_id: @client.id,
        brand_story: assets['brand_story'],
        core_values: assets['core_values'],
        brand_voice: assets['brand_voice'],
        created_by_ai: true,
        ai_generation_prompt: "AIãƒ–ãƒ©ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ€ãƒ¼ v1.0"
      )

      # 2. SNSæˆ¦ç•¥
      sns_strategy = SnsStrategy.create!(
        client_id: @client.id,
        platform: 'instagram',
        content_pillars: assets['sns_strategy']['content_pillars'],
        hashtag_strategy: assets['sns_strategy']['hashtag_strategy'],
        posting_frequency: assets['sns_strategy']['posting_frequency']
      )

      # 3. åˆå›æŠ•ç¨¿ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
      assets['initial_posts'].each_with_index do |post, index|
        ContentTemplate.create!(
          sns_strategy_id: sns_strategy.id,
          post_type: post['type'],
          caption: post['caption'],
          hashtags: post['hashtags'],
          image_prompt: post['visual_description'],
          scheduled_date: Date.today + index.days
        )
      end
    end
  end
end
```

---

## 5. ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

### 5.1 ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

```ruby
# lib/landbase/plugins/base_plugin.rb
module Landbase
  module Plugins
    class BasePlugin
      def name
        raise NotImplementedError
      end

      def version
        "1.0.0"
      end

      def migrations
        []
      end

      def routes
        []
      end

      def admin_menu_items
        []
      end

      def checkout_customizations
        {}
      end

      def install(client)
        # ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å›ºæœ‰ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å‡¦ç†
      end

      def uninstall(client)
        # ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å›ºæœ‰ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å‡¦ç†
      end
    end
  end
end
```

### 5.2 FrozenFoodPlugin å®Ÿè£…ä¾‹

```ruby
# lib/landbase/plugins/frozen_food_plugin.rb
module Landbase
  module Plugins
    class FrozenFoodPlugin < BasePlugin
      def name
        "Frozen Food EC"
      end

      def migrations
        [
          "20250114000001_add_temperature_zone_to_variants.rb",
          "20250114000002_create_frozen_food_variants.rb",
          "20250114000003_create_cold_chain_logs.rb"
        ]
      end

      def routes
        [
          { path: "/admin/frozen-inventory", controller: "Admin::FrozenInventoryController" },
          { path: "/admin/cold-chain-logs", controller: "Admin::ColdChainLogsController" }
        ]
      end

      def admin_menu_items
        [
          { label: "å†·å‡åœ¨åº«ç®¡ç†", path: "/admin/frozen-inventory", icon: "â„ï¸" },
          { label: "æ¸©åº¦å¸¯åˆ¥é…é€", path: "/admin/cold-chain-logs", icon: "ğŸŒ¡ï¸" }
        ]
      end

      def checkout_customizations
        {
          require_delivery_date: true,
          require_time_slot: true,
          delivery_lead_days: 3,
          temperature_zones: ["å†·è”µ (0-10â„ƒ)", "å†·å‡ (-18â„ƒä»¥ä¸‹)"],
          custom_validations: [
            {
              field: "delivery_date",
              rule: "must_be_at_least_3_days_from_now",
              message: "å†·å‡å•†å“ã¯3å–¶æ¥­æ—¥å¾Œä»¥é™ã®é…é€ã¨ãªã‚Šã¾ã™"
            }
          ]
        }
      end

      def install(client)
        # 1. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¹ã‚­ãƒ¼ãƒã§ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
        Apartment::Tenant.switch!("ec_#{client.code}") do
          migrations.each do |migration_file|
            require "db/plugins/frozen_food/#{migration_file}"
            migration_class_name = migration_file.split('_')[1..-1].join('_').camelize
            migration_class_name.constantize.new.up
          end
        end

        # 2. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ¸©åº¦å¸¯è¨­å®šã‚’ä½œæˆ
        Apartment::Tenant.switch!("ec_#{client.code}") do
          TemperatureZone.create!(name: "å†·è”µ", min_temp: 0, max_temp: 10)
          TemperatureZone.create!(name: "å†·å‡", min_temp: -25, max_temp: -15)
        end

        Rails.logger.info("FrozenFoodPlugin installed for client #{client.code}")
      end

      def uninstall(client)
        Apartment::Tenant.switch!("ec_#{client.code}") do
          migrations.reverse.each do |migration_file|
            require "db/plugins/frozen_food/#{migration_file}"
            migration_class_name = migration_file.split('_')[1..-1].join('_').camelize
            migration_class_name.constantize.new.down
          end
        end

        Rails.logger.info("FrozenFoodPlugin uninstalled for client #{client.code}")
      end
    end
  end
end
```

### 5.3 ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç®¡ç†ã‚³ãƒãƒ³ãƒ‰

```bash
# ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ä¸€è¦§è¡¨ç¤º
$ rails landbase:plugins:list

Available Plugins:
- frozen_food (v1.0.0) - Frozen Food EC features
- restaurant_booking (v1.0.0) - Restaurant reservation system
- sns_marketing (v1.0.0) - SNS auto-posting and analytics

# ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
$ rails landbase:plugins:install[shrimp_shells,frozen_food]

Installing 'frozen_food' plugin for client 'shrimp_shells'...
âœ… Migrations applied
âœ… Default settings created
âœ… Plugin activated

# ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç„¡åŠ¹åŒ–ï¼ˆãƒ‡ãƒ¼ã‚¿ã¯ä¿æŒï¼‰
$ rails landbase:plugins:disable[shrimp_shells,frozen_food]

# ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å®Œå…¨å‰Šé™¤ï¼ˆãƒ‡ãƒ¼ã‚¿ã‚‚å‰Šé™¤ï¼‰
$ rails landbase:plugins:uninstall[shrimp_shells,frozen_food]
```

---

## 6. n8n çµ±åˆ

### 6.1 ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä¾‹

#### Workflow 1: ECæ³¨æ–‡ â†’ Mattermosté€šçŸ¥

```json
{
  "name": "EC Order Notification",
  "nodes": [
    {
      "type": "n8n-nodes-base.webhook",
      "name": "Order Created Webhook",
      "parameters": {
        "path": "ec/order-created",
        "method": "POST"
      }
    },
    {
      "type": "n8n-nodes-base.function",
      "name": "Format Message",
      "parameters": {
        "functionCode": "const order = $json.order;\nreturn {\n  text: `ğŸ›’ æ–°è¦æ³¨æ–‡: #${order.number}\\nğŸ‘¤ ${order.customer_name}\\nğŸ’° Â¥${order.total.toLocaleString()}\\nğŸ“¦ ${order.items.length}ç‚¹`\n};"
      }
    },
    {
      "type": "n8n-nodes-base.mattermost",
      "name": "Post to Channel",
      "parameters": {
        "channel": "ec-orders",
        "message": "={{$json.text}}"
      }
    }
  ]
}
```

#### Workflow 2: åœ¨åº«åˆ‡ã‚Œ â†’ è‡ªå‹•ç™ºæ³¨

```json
{
  "name": "Auto Reorder Low Stock",
  "nodes": [
    {
      "type": "n8n-nodes-base.schedule",
      "name": "Daily Check",
      "parameters": {
        "rule": {
          "interval": [{"field": "hours", "hoursInterval": 24}]
        }
      }
    },
    {
      "type": "n8n-nodes-base.postgres",
      "name": "Check Low Stock",
      "parameters": {
        "query": "SELECT * FROM ec_shrimp_shells.spree_stock_items WHERE count_on_hand < reorder_point"
      }
    },
    {
      "type": "n8n-nodes-base.httpRequest",
      "name": "Create Purchase Order",
      "parameters": {
        "url": "https://api.supplier.com/orders",
        "method": "POST"
      }
    },
    {
      "type": "n8n-nodes-base.mattermost",
      "name": "Notify Admin",
      "parameters": {
        "channel": "inventory-alerts",
        "message": "è‡ªå‹•ç™ºæ³¨ã—ã¾ã—ãŸ: {{$json.product_name}}"
      }
    }
  ]
}
```

#### Workflow 3: Instagramè‡ªå‹•æŠ•ç¨¿

```json
{
  "name": "Instagram Auto Post",
  "nodes": [
    {
      "type": "n8n-nodes-base.schedule",
      "name": "Posting Schedule",
      "parameters": {
        "rule": {
          "interval": [{"field": "days", "daysInterval": 1}],
          "time": "10:00"
        }
      }
    },
    {
      "type": "n8n-nodes-base.postgres",
      "name": "Get Scheduled Post",
      "parameters": {
        "query": "SELECT * FROM public.content_templates WHERE scheduled_date = CURRENT_DATE AND published = false LIMIT 1"
      }
    },
    {
      "type": "n8n-nodes-base.function",
      "name": "Format Caption",
      "parameters": {
        "functionCode": "const post = $json;\nreturn {\n  caption: post.caption + '\\n\\n' + post.hashtags.join(' ')\n};"
      }
    },
    {
      "type": "n8n-nodes-base.httpRequest",
      "name": "Post to Instagram",
      "parameters": {
        "url": "https://graph.facebook.com/v18.0/{{$env.INSTAGRAM_ACCOUNT_ID}}/media",
        "method": "POST",
        "body": {
          "caption": "={{$json.caption}}",
          "image_url": "={{$json.image_url}}"
        }
      }
    },
    {
      "type": "n8n-nodes-base.postgres",
      "name": "Mark as Published",
      "parameters": {
        "query": "UPDATE public.content_templates SET published = true WHERE id = {{$json.id}}"
      }
    }
  ]
}
```

### 6.2 Webhook ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆRailså´ï¼‰

```ruby
# app/controllers/webhooks/ec_orders_controller.rb
module Webhooks
  class EcOrdersController < ApplicationController
    skip_before_action :verify_authenticity_token

    def created
      order = Spree::Order.find_by!(number: params[:order_number])

      # n8n Webhookã«ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡
      n8n_webhook_url = "#{ENV['N8N_WEBHOOK_BASE_URL']}/webhook/ec/order-created"

      HTTParty.post(n8n_webhook_url, {
        body: {
          order: {
            number: order.number,
            customer_name: order.email,
            total: order.total.to_f,
            items: order.line_items.map { |item|
              {
                product_name: item.product.name,
                quantity: item.quantity,
                price: item.price.to_f
              }
            }
          }
        }.to_json,
        headers: { 'Content-Type' => 'application/json' }
      })

      head :ok
    end
  end
end
```

---

## 7. ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥

### 7.1 ãƒ–ãƒ©ãƒ³ãƒæ§‹æˆ

```
main
â”œâ”€â”€ feature/shrimp-shells  â† Shrimp Shells PoC
â”œâ”€â”€ feature/restaurant-a   â† å°†æ¥ã®åˆ¥ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â””â”€â”€ feature/tourism-b      â† å°†æ¥ã®åˆ¥ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
```

### 7.2 ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®ãƒ«ãƒ¼ãƒ«

#### main ãƒ–ãƒ©ãƒ³ãƒ

- **ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚³ã‚¢**
  - `app/models/client.rb`
  - `app/models/brand_configuration.rb`
  - `app/models/sns_strategy.rb`
  - `app/models/plugin.rb`
  - `app/services/ai_brand_builder_service.rb`
  - `config/initializers/apartment.rb`

- **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³**
  - `lib/landbase/plugins/base_plugin.rb`
  - `lib/landbase/plugins/frozen_food_plugin.rb`
  - `lib/landbase/plugins/restaurant_booking_plugin.rb`
  - `db/plugins/frozen_food/*`

- **å…±é€šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**
  - `docs/platform-architecture.md`ï¼ˆæœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼‰
  - `docs/ai-accounting-solution-requirements.md`
  - `docs/plugin-development-guide.md`

#### feature/shrimp-shells ãƒ–ãƒ©ãƒ³ãƒ

- **Shrimp Shells å›ºæœ‰å®Ÿè£…**
  - `config/clients/shrimp_shells.yml`
  - `app/controllers/shrimp_shells/*`ï¼ˆã‚‚ã—ã‚ã‚Œã°ï¼‰
  - `app/views/shrimp_shells/*`ï¼ˆã‚«ã‚¹ã‚¿ãƒ ãƒ“ãƒ¥ãƒ¼ï¼‰

- **Shrimp Shells å›ºæœ‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**
  - `docs/solidus-ec-architecture.md`
  - `docs/sns-marketing-trends-2025.md`

### 7.3 ãƒãƒ¼ã‚¸æˆ¦ç•¥

```bash
# Shrimp Shells ã§å­¦ã‚“ã æ±ç”¨çš„ãªæ”¹å–„ã‚’ main ã¸ãƒãƒ¼ã‚¸
$ git checkout main
$ git merge feature/shrimp-shells --no-ff

# è¡çªè§£æ±ºæ™‚ã¯ã€Shrimp Shells å›ºæœ‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ main ã«å«ã‚ãªã„
# ä¾‹ï¼šdocs/sns-marketing-trends-2025.md ã¯ feature/shrimp-shells å°‚ç”¨
```

---

## 8. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ

### 8.1 ãƒ†ãƒŠãƒ³ãƒˆåˆ†é›¢

- **ã‚¹ã‚­ãƒ¼ãƒãƒ¬ãƒ™ãƒ«åˆ†é›¢**ï¼šã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆAã¯ `ec_shrimp_shells` ã‚¹ã‚­ãƒ¼ãƒã«ã—ã‹ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„
- **èªè¨¼**ï¼šDevise + JWTï¼ˆç®¡ç†è€…ãƒ­ãƒ¼ãƒ«ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ï¼‰
- **èªå¯**ï¼šPunditï¼ˆã‚¹ã‚­ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆå‰ã«ãƒ†ãƒŠãƒ³ãƒˆIDã‚’æ¤œè¨¼ï¼‰

```ruby
# app/policies/application_policy.rb
class ApplicationPolicy
  def initialize(user, record)
    @user = user
    @record = record
    ensure_tenant_access!
  end

  private

  def ensure_tenant_access!
    return if @user.admin?

    unless @user.client_id == current_tenant_id
      raise Pundit::NotAuthorizedError, "Tenant access denied"
    end
  end

  def current_tenant_id
    Apartment::Tenant.current.match(/\w+_(\d+)$/)[1].to_i
  end
end
```

### 8.2 ç’°å¢ƒå¤‰æ•°ç®¡ç†

```bash
# .env.production
ANTHROPIC_API_KEY=sk-ant-...
DATABASE_URL=postgresql://...
N8N_WEBHOOK_BASE_URL=https://n8n.landbase.ai
MATTERMOST_WEBHOOK_URL=https://mattermost.landbase.ai/hooks/...
INSTAGRAM_CLIENT_ID=...
INSTAGRAM_CLIENT_SECRET=...
```

### 8.3 ç›£æŸ»ãƒ­ã‚°

```sql
-- public.audit_logs
CREATE TABLE audit_logs (
  id BIGSERIAL PRIMARY KEY,
  user_id BIGINT,
  client_id BIGINT,
  action VARCHAR(100) NOT NULL,  -- 'create_order', 'update_product', 'delete_customer'
  resource_type VARCHAR(100),
  resource_id BIGINT,
  changes JSONB,
  ip_address INET,
  user_agent TEXT,
  created_at TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_audit_logs_client_id ON audit_logs(client_id);
CREATE INDEX idx_audit_logs_created_at ON audit_logs(created_at);
```

---

## 9. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

### 9.1 ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³

**é‡è¦ï¼šå…¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒåŒã˜ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ•ãƒ­ãƒ¼ã‚’é€šã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚**

ä»¥ä¸‹ã®3ãƒ‘ã‚¿ãƒ¼ãƒ³ã‹ã‚‰ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®çŠ¶æ³ã«å¿œã˜ã¦é¸æŠï¼š

#### ãƒ‘ã‚¿ãƒ¼ãƒ³A: AIãƒ–ãƒ©ãƒ³ãƒ‰è³‡ç”£ãƒ“ãƒ«ãƒ€ãƒ¼ã‚’ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰

**å¯¾è±¡**ï¼š
- ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’æŒã£ã¦ã„ãªã„æ–°è¦äº‹æ¥­è€…
- SNSæˆ¦ç•¥ã«è‡ªä¿¡ãŒãªã„äº‹æ¥­è€…
- ãƒ—ãƒ­ã®ãƒãƒ¼ã‚±ã‚¿ãƒ¼ã«ä¾é ¼ã™ã‚‹äºˆç®—ãŒãªã„å°è¦æ¨¡äº‹æ¥­è€…

**ãƒ•ãƒ­ãƒ¼**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 1: åŸºæœ¬æƒ…å ±ç™»éŒ²                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ¼ãƒ‰ï¼ˆä¾‹: shrimp_shellsï¼‰             â”‚
â”‚  - ä¼šç¤¾åï¼ˆä¾‹: Shrimp Shellsï¼‰                         â”‚
â”‚  - æ¥­ç¨®ï¼ˆä¾‹: å†·å‡é£Ÿå“ECï¼‰                              â”‚
â”‚  - ç®¡ç†è€…ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 2: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³é¸æŠ                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â˜‘ Frozen Food EC                                      â”‚
â”‚  â˜ Restaurant Booking                                  â”‚
â”‚  â˜‘ SNS Marketing                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 3: AIãƒ–ãƒ©ãƒ³ãƒ‰è³‡ç”£ãƒ“ãƒ«ãƒ€ãƒ¼                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  AIã‚¬ã‚¤ãƒ‰ä»˜ãã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ï¼ˆ6å•ï¼‰                       â”‚
â”‚    â†’ Claude APIã§è‡ªå‹•ç”Ÿæˆ                              â”‚
â”‚    â†’ ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã€SNSæˆ¦ç•¥ã€æŠ•ç¨¿æ¡ˆ               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 4: ã‚¹ã‚­ãƒ¼ãƒä½œæˆï¼†åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… ec_shrimp_shells ã‚¹ã‚­ãƒ¼ãƒä½œæˆ                      â”‚
â”‚  âœ… accounting_shrimp_shells ã‚¹ã‚­ãƒ¼ãƒä½œæˆ              â”‚
â”‚  âœ… n8n_shrimp_shells ã‚¹ã‚­ãƒ¼ãƒä½œæˆï¼ˆæ—¢å­˜ï¼‰             â”‚
â”‚  âœ… ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 5: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¸                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ‰ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†ï¼                                 â”‚
â”‚  æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼š                                        â”‚
â”‚  - ECå•†å“ç™»éŒ²                                           â”‚
â”‚  - æ±ºæ¸ˆè¨­å®šï¼ˆStripe/PAY.JPï¼‰                           â”‚
â”‚  - Instagramé€£æº                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ãƒ‘ã‚¿ãƒ¼ãƒ³B: æ‰‹å‹•ã§ãƒ–ãƒ©ãƒ³ãƒ‰è³‡ç”£ã‚’ä½œæˆ

**å¯¾è±¡**ï¼š
- æ—¢å­˜ãƒ–ãƒ©ãƒ³ãƒ‰ã‚’æŒã¤äº‹æ¥­è€…
- è‡ªç¤¾ã§ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æ‹…å½“è€…ãŒã„ã‚‹
- AIã§ã¯ãªãè‡ªåˆ†ã§ä½œã‚ŠãŸã„

**ãƒ•ãƒ­ãƒ¼**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 1: åŸºæœ¬æƒ…å ±ç™»éŒ²                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³Aã¨åŒã˜ï¼‰                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 2: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³é¸æŠ                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³Aã¨åŒã˜ï¼‰                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 3: ãƒ–ãƒ©ãƒ³ãƒ‰è³‡ç”£ã‚’æ‰‹å‹•å…¥åŠ›                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  - ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ï¼ˆãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ï¼‰                â”‚
â”‚  - ã‚³ã‚¢ãƒãƒªãƒ¥ãƒ¼ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰                        â”‚
â”‚  - SNSæˆ¦ç•¥ï¼ˆãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ï¼‰                             â”‚
â”‚  â€» å¾Œã‹ã‚‰ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ç·¨é›†å¯èƒ½                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 4: ã‚¹ã‚­ãƒ¼ãƒä½œæˆï¼†åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥                   â”‚
â”‚  Step 5: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¸                              â”‚
â”‚  ï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³Aã¨åŒã˜ï¼‰                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ãƒ‘ã‚¿ãƒ¼ãƒ³C: ãƒ–ãƒ©ãƒ³ãƒ‰è³‡ç”£ãªã—ã§ECæ§‹ç¯‰ã®ã¿

**å¯¾è±¡**ï¼š
- ã¨ã«ã‹ãæ—©ãECã‚’ç«‹ã¡ä¸Šã’ãŸã„
- ãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã¯å¾Œå›ã—ã§OK
- ã¾ãšã¯æ©Ÿèƒ½æ¤œè¨¼ã—ãŸã„

**ãƒ•ãƒ­ãƒ¼**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 1: åŸºæœ¬æƒ…å ±ç™»éŒ²                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³Aã¨åŒã˜ï¼‰                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 2: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³é¸æŠ                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â˜‘ Frozen Food EC                                      â”‚
â”‚  â˜ SNS Marketing  â† ã‚¹ã‚­ãƒƒãƒ—                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 3: ã‚¹ã‚­ãƒ¼ãƒä½œæˆï¼†åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥                   â”‚
â”‚  Step 4: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¸                              â”‚
â”‚  ï¼ˆãƒ–ãƒ©ãƒ³ãƒ‰è³‡ç”£ãªã—ï¼‰                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å¾Œã‹ã‚‰è¿½åŠ å¯èƒ½**ï¼š
- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‹ã‚‰ã€ŒAIãƒ–ãƒ©ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ€ãƒ¼ã‚’ä½¿ã†ã€ãƒœã‚¿ãƒ³ã§ã€ã„ã¤ã§ã‚‚ãƒ‘ã‚¿ãƒ¼ãƒ³Aã«ç§»è¡Œå¯èƒ½

### 9.2 ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚³ãƒãƒ³ãƒ‰

```bash
# ãƒ‘ã‚¿ãƒ¼ãƒ³A: AIãƒ–ãƒ©ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ€ãƒ¼ä½¿ç”¨
$ rails landbase:setup_client[shrimp_shells,frozen_food+sns_marketing,use_ai_brand_builder]

# ãƒ‘ã‚¿ãƒ¼ãƒ³B: æ‰‹å‹•å…¥åŠ›
$ rails landbase:setup_client[shrimp_shells,frozen_food+sns_marketing,manual_brand_assets]

# ãƒ‘ã‚¿ãƒ¼ãƒ³C: ãƒ–ãƒ©ãƒ³ãƒ‰è³‡ç”£ãªã—
$ rails landbase:setup_client[shrimp_shells,frozen_food]
```

**å®Ÿè¡Œå†…å®¹**ï¼š

```ruby
# lib/tasks/landbase.rake
namespace :landbase do
  desc "Setup new client"
  task :setup_client, [:code, :plugins, :brand_mode] => :environment do |t, args|
    code = args[:code]
    plugins = args[:plugins].split('+')
    brand_mode = args[:brand_mode] || 'skip'  # 'use_ai_brand_builder', 'manual_brand_assets', 'skip'

    # 1. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä½œæˆ
    client = Client.create!(
      code: code,
      name: code.titleize,
      industry: plugins.first
    )

    # 2. ã‚¹ã‚­ãƒ¼ãƒä½œæˆ
    Apartment::Tenant.create("ec_#{code}")
    Apartment::Tenant.create("accounting_#{code}")

    # 3. ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
    plugins.each do |plugin_name|
      plugin = Plugin.find_by!(name: plugin_name)
      plugin_class = "Landbase::Plugins::#{plugin_name.classify}Plugin".constantize
      plugin_instance = plugin_class.new
      plugin_instance.install(client)

      ClientPlugin.create!(client: client, plugin: plugin, enabled: true)
    end

    # 4. ãƒ–ãƒ©ãƒ³ãƒ‰è³‡ç”£ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
    case brand_mode
    when 'use_ai_brand_builder'
      puts "ğŸ“ AIãƒ–ãƒ©ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ€ãƒ¼ã®ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ã‚’é–‹å§‹ã—ã¾ã™..."
      # Interactive prompt for 6 questions
      # (å®Ÿéš›ã¯ Web UI ã§å®Ÿæ–½)
    when 'manual_brand_assets'
      puts "âœï¸ ãƒ–ãƒ©ãƒ³ãƒ‰è³‡ç”£ã‚’æ‰‹å‹•ã§å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆWeb UIã¸ï¼‰"
    when 'skip'
      puts "â© ãƒ–ãƒ©ãƒ³ãƒ‰è³‡ç”£ã®ä½œæˆã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã—ãŸ"
    end

    puts "âœ… Client '#{code}' setup completed!"
  end
end
```

---

## 10. Shrimp Shells PoC ã®ä½ç½®ã¥ã‘

### 10.1 ç›®çš„

Shrimp Shells ã¯ã€LandBase AI Suite ã®**æœ€åˆã®å®Ÿã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…ï¼ˆPoCï¼‰**ã§ã™ã€‚

**ç›®æ¨™**ï¼š
1. FrozenFoodPlugin ã®å®Ÿè£…ã¨æ¤œè¨¼
2. AIãƒ–ãƒ©ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ€ãƒ¼ã®ç²¾åº¦è©•ä¾¡
3. SNSè‡ªå‹•æŠ•ç¨¿ã®åŠ¹æœæ¸¬å®š
4. n8nã¨ã®çµ±åˆãƒ‘ã‚¿ãƒ¼ãƒ³ç¢ºç«‹

### 10.2 å­¦ç¿’å†…å®¹ã®æŠ½å‡º

```bash
# Shrimp Shells å®Ÿè£…å¾Œã€æ±ç”¨åŒ–å¯èƒ½ãªéƒ¨åˆ†ã‚’ main ã¸ãƒãƒ¼ã‚¸

# ä¾‹1: æ¸©åº¦å¸¯åˆ¥é…é€ãƒ­ã‚¸ãƒƒã‚¯
feature/shrimp-shells:
  app/services/shrimp_shells/cold_chain_delivery_service.rb
    â†“ æ±ç”¨åŒ–
main:
  lib/landbase/plugins/frozen_food_plugin/cold_chain_delivery_service.rb

# ä¾‹2: InstagramæŠ•ç¨¿é »åº¦æœ€é©åŒ–ã®çŸ¥è¦‹
feature/shrimp-shells:
  docs/sns-marketing-trends-2025.md
  - Reelsã¯é€±3-5å›ãŒæœ€é©
  - ã‚·ã‚§ã‚¢ç‡ãŒæœ€é‡è¦æŒ‡æ¨™
    â†“ æŠ½å‡º
main:
  docs/sns-best-practices.mdï¼ˆæ–°è¦ä½œæˆï¼‰

# ä¾‹3: AIãƒ–ãƒ©ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ€ãƒ¼ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ”¹å–„
feature/shrimp-shells ã§ç™ºè¦‹ã—ãŸå•é¡Œ:
  - é£²é£Ÿæ¥­ç•Œã®å°‚é–€ç”¨èªãŒä¸è¶³
  - ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ãŒç«¶åˆéå¤š
    â†“ æ”¹å–„
main:
  app/services/ai_brand_builder_service.rb
  - æ¥­ç¨®åˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¿½åŠ 
```

### 10.3 å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

```
Week 1-2: ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚³ã‚¢æ§‹ç¯‰ï¼ˆmain ãƒ–ãƒ©ãƒ³ãƒï¼‰
  âœ… Apartment gem ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
  âœ… Client, BrandConfiguration, SnsStrategy ãƒ¢ãƒ‡ãƒ«
  âœ… AIãƒ–ãƒ©ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ€ãƒ¼åŸºæœ¬å®Ÿè£…

Week 3-4: FrozenFoodPlugin å®Ÿè£…ï¼ˆmain ãƒ–ãƒ©ãƒ³ãƒï¼‰
  - æ¸©åº¦å¸¯ç®¡ç†
  - è³å‘³æœŸé™ç®¡ç†
  - é…é€æ—¥æŒ‡å®šUI

Week 5-6: Shrimp Shells PoCï¼ˆfeature/shrimp-shells ãƒ–ãƒ©ãƒ³ãƒï¼‰
  - config/clients/shrimp_shells.yml
  - å•†å“ãƒ‡ãƒ¼ã‚¿æŠ•å…¥
  - AIãƒ–ãƒ©ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ€ãƒ¼ã§è³‡ç”£ç”Ÿæˆ

Week 7-8: SNSè‡ªå‹•æŠ•ç¨¿ï¼ˆfeature/shrimp-shells â†’ mainï¼‰
  - n8n ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä½œæˆ
  - Instagram Graph API é€£æº
  - æŠ•ç¨¿ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼

Week 9-10: ç®¡ç†ä¼šè¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆmain ãƒ–ãƒ©ãƒ³ãƒï¼‰
  - KPIã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆæ—¥æ¬¡é›†è¨ˆ
  - ä¼šè©±å‹AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
  - ç•°å¸¸æ¤œçŸ¥ã‚¢ãƒ©ãƒ¼ãƒˆ

Week 11-12: æ¤œè¨¼ï¼†æ”¹å–„
  - Shrimp Shells ã§ãƒªã‚¢ãƒ«é‹ç”¨
  - AIãƒ–ãƒ©ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ€ãƒ¼ç²¾åº¦è©•ä¾¡
  - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®æ±ç”¨åŒ–æŠ½å‡º
```

---

## 11. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### 11.1 ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

- **Ruby on Rails** 8.0
- **PostgreSQL** 14+
- **Apartment gem** v3.2.0ï¼ˆãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆï¼‰
- **Solidus** v4.5ï¼ˆECï¼‰
- **Devise** + **JWT**ï¼ˆèªè¨¼ï¼‰
- **Pundit**ï¼ˆèªå¯ï¼‰
- **HTTParty**ï¼ˆAPIé€£æºï¼‰
- **anthropic-rb**ï¼ˆClaude API clientï¼‰

### 11.2 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

- **Next.js** 14ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼‰
- **TypeScript**
- **TailwindCSS**
- **shadcn/ui**ï¼ˆUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰
- **Chart.js**ï¼ˆKPIå¯è¦–åŒ–ï¼‰

### 11.3 ã‚¤ãƒ³ãƒ•ãƒ©

- **Docker** + **Docker Compose**
- **Nginx**ï¼ˆãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·ï¼‰
- **n8n**ï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è‡ªå‹•åŒ–ï¼‰
- **Mattermost**ï¼ˆãƒãƒ¼ãƒ ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- **Redis**ï¼ˆã‚¸ãƒ§ãƒ–ã‚­ãƒ¥ãƒ¼ï¼‰

### 11.4 å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹

- **Claude API** (claude-3-5-sonnet-20250514)
- **Instagram Graph API**
- **Stripe** / **PAY.JP**ï¼ˆæ±ºæ¸ˆï¼‰
- **SendGrid**ï¼ˆãƒ¡ãƒ¼ãƒ«é…ä¿¡ï¼‰

---

## 12. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### 12.1 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

- **ã‚¹ã‚­ãƒ¼ãƒã”ã¨ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æœ€é©åŒ–**
  ```sql
  -- ec_shrimp_shells.spree_orders
  CREATE INDEX idx_orders_completed_at ON spree_orders(completed_at) WHERE completed_at IS NOT NULL;
  CREATE INDEX idx_orders_email ON spree_orders(email);

  -- accounting_shrimp_shells.transactions
  CREATE INDEX idx_transactions_date ON transactions(transaction_date);
  CREATE INDEX idx_transactions_category ON transactions(category);
  ```

- **æ¥ç¶šãƒ—ãƒ¼ãƒªãƒ³ã‚°**
  ```yaml
  # config/database.yml
  production:
    pool: <%= ENV.fetch("RAILS_MAX_THREADS") { 25 } %>
    checkout_timeout: 5
  ```

### 12.2 ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥

- **KPIã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ**ï¼šæ—¥æ¬¡ã§äº‹å‰é›†è¨ˆï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¨ˆç®—ä¸è¦ï¼‰
- **ãƒ–ãƒ©ãƒ³ãƒ‰è³‡ç”£**ï¼šç”Ÿæˆå¾Œã¯DBã«æ°¸ç¶šåŒ–ï¼ˆæ¯å›APIå‘¼ã³å‡ºã—ä¸è¦ï¼‰
- **å•†å“ä¸€è¦§**ï¼šFragment cacheï¼ˆ1æ™‚é–“ï¼‰

```ruby
# app/views/products/index.html.erb
<% cache("products-#{@client.code}", expires_in: 1.hour) do %>
  <%= render @products %>
<% end %>
```

### 12.3 éåŒæœŸå‡¦ç†

- **InstagramæŠ•ç¨¿**ï¼šSidekiq ã‚¸ãƒ§ãƒ–åŒ–
- **æœˆæ¬¡ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ**ï¼šå¤œé–“ãƒãƒƒãƒå‡¦ç†
- **AIç”Ÿæˆå‡¦ç†**ï¼šã‚¸ãƒ§ãƒ–ã‚­ãƒ¥ãƒ¼ï¼ˆSolid Queueï¼‰

```ruby
# app/jobs/generate_brand_assets_job.rb
class GenerateBrandAssetsJob < ApplicationJob
  queue_as :default

  def perform(client_id, interview_answers)
    client = Client.find(client_id)
    AiBrandBuilderService.new(client).generate_brand_assets(interview_answers)
  end
end
```

---

## 13. ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ï¼†ãƒ­ã‚®ãƒ³ã‚°

### 13.1 ãƒ­ã‚°æˆ¦ç•¥

```ruby
# config/environments/production.rb
config.log_level = :info
config.log_tags = [:request_id, :subdomain]

# Apartment ãƒ†ãƒŠãƒ³ãƒˆæƒ…å ±ã‚’ãƒ­ã‚°ã«è¿½åŠ 
config.log_tags << -> (request) {
  "tenant:#{Apartment::Tenant.current}"
}
```

### 13.2 ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†

- **APM**ï¼šNew Relic / Datadog
- **ã‚¨ãƒ©ãƒ¼ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°**ï¼šSentry
- **ç›£è¦–å¯¾è±¡**ï¼š
  - Claude API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ 
  - n8n ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Ÿè¡ŒæˆåŠŸç‡
  - ECæ³¨æ–‡å‡¦ç†æ™‚é–“
  - DBæ¥ç¶šãƒ—ãƒ¼ãƒ«ä½¿ç”¨ç‡

### 13.3 ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š

```yaml
# config/alerts.yml
alerts:
  - name: "High Claude API Latency"
    condition: "avg(claude_api_response_time) > 5000ms"
    notification: mattermost

  - name: "Failed n8n Workflow"
    condition: "n8n_workflow_failed == true"
    notification: mattermost

  - name: "Low Inventory Alert"
    condition: "spree_stock_items.count_on_hand < reorder_point"
    notification: mattermost
```

---

## 14. æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### 14.1 å³åº§ã«ç€æ‰‹

1. âœ… **æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå®Œæˆ**
2. â¬œ **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³é–‹ç™ºã‚¬ã‚¤ãƒ‰ä½œæˆ**ï¼ˆ`docs/plugin-development-guide.md`ï¼‰
3. â¬œ **Apartment gem ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**ï¼ˆ`config/initializers/apartment.rb`ï¼‰
4. â¬œ **åŸºæœ¬ãƒ¢ãƒ‡ãƒ«å®Ÿè£…**ï¼ˆClient, BrandConfiguration, SnsStrategyï¼‰

### 14.2 Week 1-2ï¼ˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚³ã‚¢ï¼‰

```bash
# 1. Apartment ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
$ bundle add apartment -v "~> 3.2.0"
$ rails generate apartment:install

# 2. ãƒ¢ãƒ‡ãƒ«ç”Ÿæˆ
$ rails generate model Client code:string name:string industry:string active:boolean
$ rails generate model BrandConfiguration client:references brand_story:jsonb core_values:text[] brand_voice:jsonb created_by_ai:boolean
$ rails generate model SnsStrategy client:references platform:string content_pillars:jsonb hashtag_strategy:jsonb posting_frequency:string

# 3. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
$ rails db:migrate
```

### 14.3 Week 3-4ï¼ˆFrozenFoodPluginï¼‰

1. `lib/landbase/plugins/frozen_food_plugin.rb` å®Ÿè£…
2. ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å°‚ç”¨ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ
3. ç®¡ç†ç”»é¢UIï¼ˆæ¸©åº¦å¸¯ç®¡ç†ã€é…é€æ—¥æŒ‡å®šï¼‰

### 14.4 Week 5-6ï¼ˆShrimp Shells PoCï¼‰

```bash
# feature/shrimp-shells ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
$ git checkout -b feature/shrimp-shells

# ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
$ rails landbase:setup_client[shrimp_shells,frozen_food+sns_marketing,use_ai_brand_builder]
```

---

## 15. FAQ

### Q1: æ–°ã—ã„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹æ‰‹é †ã¯ï¼Ÿ

```bash
$ rails landbase:setup_client[restaurant_a,restaurant_booking+sns_marketing,use_ai_brand_builder]
```

ã“ã‚Œã§ä»¥ä¸‹ãŒè‡ªå‹•å®Ÿè¡Œã•ã‚Œã¾ã™ï¼š
- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆ
- ã‚¹ã‚­ãƒ¼ãƒä½œæˆï¼ˆec_restaurant_a, accounting_restaurant_aï¼‰
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- AIãƒ–ãƒ©ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ€ãƒ¼èµ·å‹•ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

### Q2: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¿½åŠ ã—ãŸã„å ´åˆã¯ï¼Ÿ

```bash
# 1. ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¯ãƒ©ã‚¹ä½œæˆ
$ touch lib/landbase/plugins/my_custom_plugin.rb

# 2. ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å®Ÿè£…ï¼ˆBasePlugin ã‚’ç¶™æ‰¿ï¼‰
# 3. ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç™»éŒ²
$ rails console
> Plugin.create!(name: 'my_custom', display_name: 'My Custom Plugin', version: '1.0.0')

# 4. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é©ç”¨
$ rails landbase:plugins:install[shrimp_shells,my_custom]
```

### Q3: AIãƒ–ãƒ©ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ€ãƒ¼ã‚’å¾Œã‹ã‚‰ä½¿ã„ãŸã„å ´åˆã¯ï¼Ÿ

ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‹ã‚‰ã€ŒAIãƒ–ãƒ©ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ€ãƒ¼ã‚’èµ·å‹•ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚
ã„ã¤ã§ã‚‚å†ç”Ÿæˆå¯èƒ½ã§ã™ã€‚

### Q4: Shrimp Shells ã®å®Ÿè£…ã‚’ä»–ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§å†åˆ©ç”¨ã—ãŸã„å ´åˆã¯ï¼Ÿ

```bash
# 1. feature/shrimp-shells ã‹ã‚‰æ±ç”¨åŒ–å¯èƒ½ãªã‚³ãƒ¼ãƒ‰ã‚’ç‰¹å®š
# 2. main ãƒ–ãƒ©ãƒ³ãƒã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³åŒ–
$ git checkout main
$ git checkout feature/shrimp-shells -- lib/landbase/plugins/frozen_food_plugin.rb
$ git commit -m "Extract FrozenFoodPlugin from Shrimp Shells PoC"
```

---

## ã¾ã¨ã‚

æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€LandBase AI Suite ã®çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’å®šç¾©ã—ã¾ã—ãŸã€‚

**é‡è¦ãªè¨­è¨ˆæ±ºå®š**ï¼š
1. âœ… ã‚¹ã‚­ãƒ¼ãƒå®Œå…¨åˆ†é›¢ã«ã‚ˆã‚‹ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆ
2. âœ… ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã‚ˆã‚‹æ¥­ç¨®åˆ¥ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
3. âœ… AIãƒ–ãƒ©ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ€ãƒ¼ã«ã‚ˆã‚‹å·®åˆ¥åŒ–ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¨ã—ã¦æä¾›ï¼‰
4. âœ… Shrimp Shells ã‚’ PoC ã¨ã—ã¦å®Ÿè£…ã€å­¦ç¿’ã‚’æŠ½å‡º

**æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**ï¼š
- [ ] Apartment gem ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [ ] åŸºæœ¬ãƒ¢ãƒ‡ãƒ«å®Ÿè£…
- [ ] FrozenFoodPlugin å®Ÿè£…
- [ ] Shrimp Shells PoC é–‹å§‹

ã“ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã‚ˆã‚Šã€Shrimp Shells ã§å¾—ãŸå­¦ç¿’ã‚’ã€å°†æ¥ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã€è¦³å…‰æ¥­ç­‰ï¼‰ã«æ¨ªå±•é–‹ã§ãã¾ã™ã€‚
